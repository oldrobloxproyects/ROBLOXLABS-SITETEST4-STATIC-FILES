!function(){var t={2583:function(e,n,t){var a={"./twoStepVerificationComponent.js":6032};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=2583},9731:function(e,n,t){var a={"./displayNameConstants.js":1566,"./resources.js":2482,"./twoStepVerificationConstants.js":7849};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=9731},9073:function(e,n,t){var a={"./accountSettingsModalEmailSetController.js":6678,"./accountSettingsModalEmailVerifyController.js":696,"./accountSettingsModalPasswordSetController.js":5038,"./accountSettingsModalPhoneSetController.js":530,"./accountSettingsModalPinCreateController.js":6922,"./accountSettingsModalPinUnlockController.js":6879,"./accountSettingsModalSocialDisconnectController.js":7426,"./accountSettingsModalTwoStepController.js":4828,"./accountSettingsModalUsernameUpdateController.js":1802,"./accountsContentController.js":9014,"./accountsController.js":4579,"./changeDisplayNameController.js":2142,"./displayNameController.js":6980,"./enableAuthenticatorModalController.js":1273,"./personalController.js":8136,"./recoveryCodesModalController.js":8619,"./twoStepVerificationController.js":3441};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=9073},1765:function(e,n,t){var a={"./accountPinStatusDirective.js":6490,"./accountTransactionsDirective.js":6329,"./accountsStatePropertiesDirective.js":7034,"./accountsValidUsernameDirective.js":4693,"./userAccountBaseDirective.js":9722};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=1765},2625:function(e,n,t){var a={"./accountsService.js":5294,"./commonConstantsService.js":7500,"./displayNameLayout.js":9873,"./formFieldsMappingService.js":906,"./modalConstantsService.js":5809,"./notificationConstantsService.js":816,"./twoStepVerificationService.js":7181,"./usersService.js":8514};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=2625},360:function(e,n,t){var a={"./components/templates/twoStepVerification.html":7549,"./controllers/templates/accountBilling.html":7986,"./controllers/templates/accountFastTrack.html":1762,"./controllers/templates/accountInfo.html":4919,"./controllers/templates/accountNotifications.html":1467,"./controllers/templates/accountParentalControls.html":1924,"./controllers/templates/accountPrivacy.html":5997,"./controllers/templates/accountSecurity.html":1195,"./controllers/templates/accountSocial.html":592,"./controllers/templates/changeDisplayNameModal.html":7466,"./controllers/templates/modalAuthenticatorEnable.html":6431,"./controllers/templates/modalEmailSet.html":9011,"./controllers/templates/modalEmailVerify.html":8878,"./controllers/templates/modalPasswordSet.html":3008,"./controllers/templates/modalPhoneDelete.html":9854,"./controllers/templates/modalPhoneSet.html":7265,"./controllers/templates/modalPhoneUpdate.html":9494,"./controllers/templates/modalPhoneVerify.html":5713,"./controllers/templates/modalPinCreate.html":2016,"./controllers/templates/modalPinUnlock.html":8790,"./controllers/templates/modalRecoveryCodes.html":3164,"./controllers/templates/modalSocialDisconnect.html":4349,"./controllers/templates/modalTwoStepDisable.html":6161,"./controllers/templates/modalUsernameUpdate.html":2360,"./directives/templates/accountPinStatus.html":9399,"./directives/templates/accountTransactions.html":1907,"./directives/templates/userAccountBase.html":9804};function o(e){e=i(e);return t(e)}function i(e){if(t.o(a,e))return a[e];e=new Error("Cannot find module '"+e+"'");throw e.code="MODULE_NOT_FOUND",e}o.keys=function(){return Object.keys(a)},o.resolve=i,(e.exports=o).id=360},4395:function(e,n,t){"use strict";var s=t(792),a=t(5734),a=t.n(a)().module("accounts",["robloxApp","ui.router","cursorPagination","premium","systemFeedback","verticalMenu","modal","phoneValidation"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","accountConstantsResources","languageResourceProvider",function(e,n,t,a,o){var i=window.location.href;-1!=i.indexOf("#")&&-1==i.indexOf("#!")&&(window.location.href=i.replace("#","#!")),t.html5Mode(!1),t.hashPrefix("!"),n.otherwise("/info"),e.state("info",{url:"/info",label:"Account Info",templateUrl:a.templates.accountInfo}).state("social",{url:"/social",label:"Social",templateUrl:a.templates.accountSocial}).state("security",{url:"/security",label:"Security",templateUrl:a.templates.accountSecurity}).state("privacy",{url:"/privacy",label:"Privacy",templateUrl:a.templates.accountPrivacy}).state("parental-controls",{url:"/parental-controls",label:"Parental Controls",templateUrl:a.templates.accountParentalControls}).state("billing",{url:"/billing",label:"Billing",templateUrl:a.templates.accountBilling}).state("notifications",{url:"/notifications",label:"Notifications",templateUrl:a.templates.accountNotifications}).state("fast-track",{url:"/fast-track",label:"Fast Track",templateUrl:a.templates.accountFastTrack}),o.setLanguageKeysFromFile(s.Lang.AccountSettingsResources),o.setLanguageKeysFromFile(s.Lang.ControlsResources),o.setLanguageKeysFromFile(s.Lang["Authentication.Social"]),o.setLanguageKeysFromFile(s.Lang.PremiumResources),o.setLanguageKeysFromFile(s.Lang.DisplayNameResources)}]);n.Z=a},6032:function(e,n,t){"use strict";t.r(n);var a={templateUrl:"two-step-verification",bindings:{pinLocked:"<",unlockPin:"<",emailStatus:"<",email:"<"},controller:"twoStepVerificationController"};t(4395).Z.component("twoStepVerification",a),n.default=a},1566:function(e,n,t){"use strict";t.r(n);var a={changeDisplayNameModal:{templateUrl:"change-display-name-modal",controllerName:"changeDisplayNameController"},eventstreamParams:{changeDisplayNameEvent:"changeDisplayname",successCtx:"success",cancelCtx:"cancel"}};t(4395).Z.constant("displayNameConstants",a),n.default=a},2482:function(e,n,t){"use strict";t.r(n);var a={controllers:{modal:{emailSet:"accountSettingsModalEmailSetController",emailVerify:"accountSettingsModalEmailVerifyController",enableAuthenticator:"enableAuthenticatorModalController",passwordSet:"accountSettingsModalPasswordSetController",phoneSet:"accountSettingsModalPhoneSetController",twoStepSet:"accountSettingsModalTwoStepController",pinCreate:"accountSettingsModalPinCreateController",pinUnlock:"accountSettingsModalPinUnlockController",recoveryCodes:"recoveryCodesModalController",usernameUpdate:"accountSettingsModalUsernameUpdateController",socialDisconnect:"accountSettingsModalSocialDisconnectController"}},templates:{accountInfo:"account-info",accountBilling:"account-billing",accountNotifications:"account-notifications",accountParentalControls:"account-parental-controls",accountPrivacy:"account-privacy",accountSecurity:"account-security",accountSocial:"account-social",accountPinStatus:"account-pin-status",accountTransactions:"account-transactions",accountFastTrack:"account-fasttrack",modal:{emailSet:"modal-email-set",emailVerify:"modal-email-verify",enableAuthenticator:"modal-authenticator-enable",passwordSet:"modal-password-set",phoneSet:"modal-phone-set",twoStepSet:"modal-two-step-disable",pinCreate:"modal-pin-create",pinUnlock:"modal-pin-unlock",recoveryCodes:"modal-recovery-codes",usernameUpdate:"modal-username-update",socialDisconnect:"modal-social-disconnect"},userAccountBase:"user-account-base"},paymentType:{paypal:"paypal"},paymentsPerPage:10,maxPaymentsLoaded:25,paymentProviderTypeToClass:{Visa:"visa",Discover:"discover",MasterCard:"masterCard",AmericanExpress:"americanExpress",Paypal:"paypal",Credit:"robloxCredit"},updateThemeEventContext:"select",defaultThemeType:"Classic",updateThemeEvent:"Roblox.ThemeUpdate",themeTypes:{classic:"Classic",light:"Light"},birthdayPicker:{year:{id:"YearDropdown",class:"year",name:"birthYear",type:"year"},month:{id:"MonthDropdown",class:"month",name:"birthMonth",type:"month"},day:{id:"DayDropdown",class:"day",name:"birthDay",type:"day"}},defaultDateParts:{0:{options:[{label:"Month",value:null}],id:"MonthDropdown",class:"month",name:"birthdayMonth",type:"month"},1:{options:[{label:"Day",value:null}],id:"DayDropdown",class:"day",name:"birthdayDay",type:"day"},2:{options:[{label:"Year",value:null}],id:"YearDropdown",class:"year",name:"birthdayYear",type:"year"}},accountSettingsPolicyDefault:{displayTwoStepVerification:!0,displayAccountPIN:!0,displayPrivacyModeToolTip:!0,displayEmailAddress:!0,displayWeChat:!1,displayQQ:!1,displayConnectedAccounts:!0,displayNotificationStream:!0,displayDesktopPush:!0,displayMobilePush:!0,displayPhoneNumber:!0,displaySocialMedia:!0,displayDescription:!0,displayAccountRestrictions:!0,displayWhoCanMessageMe:!0,displayWhoCanInviteMeToVIPServers:!0,displayWhoCanTradeWithMe:!0,displayTradeQualityFilter:!0,displayCountryList:!0,displayLanguageList:!0,displayChangeUsername:!0,displayChangePassword:!0,displayBillingTab:!0},accountSettingsPolicyLeastPrivileged:{displayTwoStepVerification:!1,displayAccountPIN:!1,displayPrivacyModeToolTip:!1,displayEmailAddress:!1,displayWeChat:!1,displayQQ:!1,displayConnectedAccounts:!1,displayNotificationStream:!1,displayDesktopPush:!1,displayMobilePush:!1,displayPhoneNumber:!1,displaySocialMedia:!1,displayDescription:!1,displayAccountRestrictions:!1,displayWhoCanMessageMe:!1,displayWhoCanInviteMeToVIPServers:!1,displayWhoCanTradeWithMe:!1,displayTradeQualityFilter:!1,displayCountryList:!1,displayLanguageList:!1,displayChangeUsername:!1,displayChangePassword:!1,displayBillingTab:!1},accountSettingsPolicyNotificationDestinations:{NotificationStream:"displayNotificationStream",DesktopPush:"displayDesktopPush",MobilePush:"displayMobilePush"},counters:{accountSettingPolicyPrefix:"WebsiteAccountSettingsPolicy_",success:"Success",failure:"Failure"},socialAuth:{providers:{facebook:"facebook",weChat:"wechat",qq:"qq"}},emailStatus:{none:"none",unverified:"unverified",verified:"verified"},socialErrorCode:{11:"Message.Error.InvalidFacebookUrl ",12:"Message.Error.InvalidTwitterUrl",13:"Message.Error.InvalidYouTubeUrl",14:"Message.Error.InvalidTwitchUrl"},events:{formInteractionEventType:"formInteraction",settingsCtx:"settings",addEmailBtn:"addEmail",verifyEmailBtn:"verifyEmail",addPhoneBtn:"addPhone",changeEmailBtn:"changeEmail",changePhoneBtn:"changePhone",toggle2SVOn:"turn2SVon",toggle2SVOff:"turn2SVoff"},accountTabsDefault:[{name:"info",label:"Account Info"},{name:"security",label:"Security"},{name:"privacy",label:"Privacy"}]};t(4395).Z.constant("accountConstantsResources",a),n.default=a},7849:function(e,n,t){"use strict";t.r(n);var a=t(4720),t={alreadyEnabled:"alreadyEnabled",featureDisabled:"featureDisabled",invalidCode:"invalidCode",invalidEmail:"invalidEmail",invalidPassword:"invalidPassword",invalidMediaType:"invalidMediaType",invalidSetupToken:"invalidSetupToken",pinLocked:"pinLocked",tooManyRequests:"tooManyRequests"};n.default={digitRegex:/^[0-9]$/,mediaTypes:{Email:"Email",Authenticator:"Authenticator",RecoveryCode:"RecoveryCode"},urls:{authenticatorHelp:a.urlService.getAbsoluteUrl("/info/2sv")},errorCodes:{internal:t,api:{3:t.invalidEmail,4:t.invalidPassword,5:t.tooManyRequests,6:t.pinLocked,7:t.featureDisabled,10:t.invalidCode,11:t.alreadyEnabled,12:t.invalidSetupToken}}}},6678:function(e,n,t){"use strict";t.r(n);var a=t(5734),s=t.n(a),t=t(4395);function o(n,e,t,a,o,i){s().extend(n,o),n.userInfo={},n.emailSetSuccess=!1,n.regexData={},a.getEmailRegex().then(function(e){e&&(n.regexData.email=e.Regex)}),n.showPasswordField=o.isEmailVerified&&o.doesPasswordExist,n.modalConstants=i,n.title=function(){return n.emailRequired?i.emailSet.emailRequiredMessage:n.emailSetSuccess?i.emailSet.emailSetSuccessMessage:n.changeEmail?n.over13?i.emailSet.changeEmailO13Label:i.emailSet.changeEmailU13Label:n.over13?i.emailSet.addEmailO13Label:i.emailSet.addEmailU13Label},n.toggleEmailRequired=function(e){n.emailRequired=e},n.submitButtonText=function(){return n.changeEmail?i.emailSet.changeEmailLabel:i.emailSet.addEmailLabel},n.emailErrorMessage=function(e){return e["userInfo.emailAddress"].$error.required?null:e["userInfo.emailAddress"].$invalid?i.emailSet.invalidEmailAddressMessage:e.$pristine&&n.error?n.error:null},n.submit=function(e){e.$setPristine(),n.error="",n.isProcessing=!0,t.beginAccountAddEmailAddress(n.userInfo).then(function(){n.emailSetSuccess=!0},function(e){n.error=t.getEmailErrorMessageFromCode(e)}).finally(function(){n.isProcessing=!1})},n.dismiss=function(){n.passwordSet?e.close(!0):e.dismiss()}}o.$inject=["$scope","$uibModalInstance","accountsService","regexService","modalData","modalConstantsService"],t.Z.controller("accountSettingsModalEmailSetController",o),n.default=o},696:function(e,n,t){"use strict";t.r(n);var a=t(5734),o=t.n(a),t=t(4395);function i(n,t,e){o().extend(n,e),n.verificationEmailSent=!1,n.verificationEmailError=!1,n.beginAccountVerifyEmailAddress=function(){t.beginAccountVerifyEmailAddress().then(function(){n.verificationEmailSent=!0},function(e){n.verificationEmailError=!0,n.error=t.getEmailErrorMessageFromCode(e)})},n.sendVerificationEmail=function(){n.verifiedEmailRequired=!1,n.beginAccountVerifyEmailAddress()},n.verifiedEmailRequired||n.beginAccountVerifyEmailAddress()}i.$inject=["$scope","accountsService","modalData"],t.Z.controller("accountSettingsModalEmailVerifyController",i),n.default=i},5038:function(e,n,t){"use strict";t.r(n);var a=t(5734),i=t.n(a),t=t(4395);function o(n,e,t,a,o){i().extend(n,a),n.passwordInfo={},n.passwordSetSuccess=!1,n.passwordSetSuccessTitle=o.passwordSet.changePasswordSuccess,n.doesPasswordExist=a.doesPasswordExist&&n.changePassword,n.changePassword?n.title=o.passwordSet.changePasswordMessage:n.title=o.passwordSet.addPasswordMessage,n.passwordErrorMessage=function(e){return e["passwordInfo.newPassword"].$error.required||e["passwordInfo.confirmPassword"].$error.required?null:e["passwordInfo.confirmPassword"].$error.matchField?o.passwordSet.matchErrorMessage:e.$pristine&&n.error?n.error:null},n.submit=function(e){e.$setPristine(),n.error="",n.doesPasswordExist||(n.passwordInfo.oldPassword="placeholder"),t.beginAccountChangePassword(n.passwordInfo).then(function(){n.title=o.default.success.title,n.passwordSetSuccess=!0},function(e){switch(e&&e.errors&&0<e.errors.length&&e.errors[0].code||0){case 2:n.error=o.passwordChange.tooManyRequests;break;case 7:n.error=o.passwordChange.invalidPassword;break;case 8:n.error=o.passwordChange.invalidCurrentPassword;break;case 9:n.error=o.passwordChange.pinLocked;break;default:n.error=o.default.error.body}})},n.dismiss=function(){n.passwordSetSuccess?e.close(!0):e.dismiss()}}o.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],t.Z.controller("accountSettingsModalPasswordSetController",o),n.default=o},530:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(n,e,t,a,o,i,s,r,c){n.phoneInfo={},n.doesPasswordExist=n.accountContent.userInfo.data.HasValidPasswordSet,n.layout={showEditModal:!0,isUpdatePhoneBusy:!1,isVerifyPhoneBusy:!1},n.getPhonePrefix=function(){return n.phoneInfo.phonePrefix?r.phonePrefixCharacter+n.phoneInfo.phonePrefix.prefix:""},n.clearDeletePhoneError=function(){n.layout.deletePhoneError=null},n.clearUpdatePhoneError=function(){n.layout.updatePhoneError=null},n.clearCodeError=function(){n.layout.codeError=null},n.clearPhone=function(){n.phoneInfo.phone=null},n.updatePhone=function(){n.layout.isUpdatePhoneBusy=!0,n.clearUpdatePhoneError(),n.doesPasswordExist||(n.phoneInfo.password="placeholder");var e={countryCode:n.phoneInfo.phonePrefix.code,prefix:n.phoneInfo.phonePrefix.prefix,phone:n.phoneInfo.phone,password:n.phoneInfo.password};a.beginAccountUpdatePhone(e).then(function(){n.layout.showEditModal=!1,n.layout.showVerifyModal=!0,n.layout.focusOnCodeInput=!0},function(e){n.layout.updatePhoneError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){n.layout.isUpdatePhoneBusy=!1})},n.initiateDeletePhone=function(){n.layout.showEditModal=!1,n.layout.showDeleteModal=!0},n.deletePhone=function(){n.layout.isDeletePhoneBusy=!0,n.clearDeletePhoneError();var e={password:n.phoneInfo.password};a.beginAccountDeletePhone(e).then(function(){var e={message:c.phoneSet.deleteSuccessMessage};t.close(e)},function(e){n.layout.deletePhoneError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){n.layout.isDeletePhoneBusy=!1})},n.submitCode=function(){var e;n.layout.isVerifyPhoneBusy=!0,n.clearCodeError(),o.checkCode(n.phoneInfo.code,n.phoneModalData.codeLength)?(e={code:n.phoneInfo.code},a.beginAccountVerifyPhone(e).then(function(){var e={message:c.phoneSet.updateSuccessMessage};t.close(e)},function(e){n.layout.codeError=a.getPhoneErrorMessageFromCode(e)}).finally(function(){n.layout.isVerifyPhoneBusy=!1})):(n.layout.isVerifyPhoneBusy=!1,n.layout.codeError="Code must be ".concat(n.phoneModalData.codeLength," digits"))},n.resendCode=function(){n.layout.isVerifyPhoneBusy=!0,n.clearCodeError(),a.beginAccountResendPhoneCode().then(function(e){e.isValid||(n.layout.codeError=e.data)},function(){n.layout.codeError=c.default.errorMessage}).finally(function(){n.layout.isVerifyPhoneBusy=!1})},n.selectPhonePrefix=function(){n.phoneInfo.phonePrefix=_.find(n.accountInfoSettings.phonePrefixes,function(e){return e.prefix===n.phoneModalData.prefix&&e.code===n.phoneModalData.countryCode}),n.phoneInfo.phonePrefix||(n.phoneInfo.phonePrefix=n.accountInfoSettings.phonePrefixes[0])},n.init=function(){var e;n.phoneModalData.maskedNumber&&(e=n.phoneModalData.maskedNumber?n.phoneModalData.maskedNumber.match(/\d+$/):null,n.phoneModalData.lastDigits=e?e[0]:null),n.accountInfoSettings.phonePrefixes?n.selectPhonePrefix():s.getPhonePrefixes(n.accountContent.userInfo.data.ApiProxyDomain).then(function(e){n.accountInfoSettings.phonePrefixes=e,n.accountInfoSettings.phonePrefixes?n.selectPhonePrefix():n.layout.countryError=c.phoneSet.countryListErrorMessage},function(){n.layout.countryError=c.phoneSet.countryListErrorMessage})},n.init()}a.$inject=["$scope","$log","$uibModalInstance","accountsService","numericCodeService","urlService","phoneService","phoneConstants","modalConstantsService"],t.Z.controller("accountSettingsModalPhoneSetController",a),n.default=a},6922:function(e,n,t){"use strict";t.r(n);var a=t(5734),i=t.n(a),t=t(4395);function o(n,e,t,a,o){i().extend(n,a),n.pinInfo={},n.pinCreateSuccess=!1,n.pinErrorMessage=function(e){return e.newPin.$error.required||e.newPin.$error.minlength||e.newPinConfirm.$error.required||e.newPinConfirm.$error.minlength?null:e.$dirty&&e.newPinConfirm.$error.matchField?o.pinCreate.matchErrorMessage:e.$pristine&&n.error?n.error:null},n.submit=function(e){e.$valid&&(e.$setPristine(),n.error="",t.beginCreateAccountPinSetting(n.pinInfo.newPin).then(function(){n.pinCreateSuccess=!0},function(e){n.error=t.getPinErrorMessageFromCode(e)}))},n.dismiss=function(){n.pinCreated?e.close(!0):e.dismiss()}}o.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],t.Z.controller("accountSettingsModalPinCreateController",o),n.default=o},6879:function(e,n,t){"use strict";t.r(n);var a=t(5734),i=t.n(a),t=t(4395);function o(n,e,t,a,o){i().extend(n,o),n.pinInfo={},n.pinErrorMessage=function(e){return e.$pristine&&n.error?n.error:null},n.submit=function(e){e.$valid&&(e.$setPristine(),n.error="",a.beginUnlockAccountPinSetting(n.pinInfo.pin).then(function(e){t.close(e)},function(e){n.error=a.getPinErrorMessageFromCode(e)}))}}o.$inject=["$scope","$log","$uibModalInstance","accountsService","modalData"],t.Z.controller("accountSettingsModalPinUnlockController",o),n.default=o},7426:function(e,n,t){"use strict";t.r(n);var a=t(5734),i=t.n(a),t=t(4395);function o(n,t,a,e,o){i().extend(n,e),n.data={},n.layout={isProcessing:!1,error:""},n.getTitle=function(){return o.socialDisconnect.unlinkTitle(n.provider)},n.getPasswordErrorMessage=function(e){return e.$pristine&&n.layout.error?n.layout.error:null},n.hasPasswordError=function(){return""!==n.layout.error},n.clearPasswordError=function(){n.layout.error=""},n.submit=function(e){e.$setPristine(),n.clearPasswordError(),n.layout.isProcessing=!0,a.beginUpdateSocialDisconnect(n.provider,n.data.password).then(function(){t.close(!0)},function(e){n.layout.error=o.socialDisconnect.getMessageFromError(e)}).finally(function(){n.layout.isProcessing=!1})},n.dismiss=function(){t.dismiss()}}o.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService"],t.Z.controller("accountSettingsModalSocialDisconnectController",o),n.default=o},4828:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(n,t,a,o){n.layout={password:"",errorMessage:"",debounce:!1},n.canSubmit=function(){return n.layout.password&&!n.layout.errorMessage&&!n.layout.debounce},n.clearErrorMessage=function(){n.layout.errorMessage=""},n.dismiss=function(){t.dismiss()},n.submit=function(e){n.layout.debounce||e.$valid&&(e.$setPristine(),n.clearErrorMessage(),n.layout.debounce=!0,o.disableTwoStepVerification(a.mediaType,n.layout.password).then(function(){t.close(!0)}).catch(function(e){n.layout.errorMessage=e.message,n.layout.debounce=!1}))}}a.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],t.Z.controller("accountSettingsModalTwoStepController",a),n.default=a},1802:function(e,n,t){"use strict";t.r(n);var a=t(5734),s=t.n(a),t=t(4395);function o(t,e,n,a,o,i){s().extend(t,a),t.user={},t.usernameUpdateSuccess=!1,t.doesPasswordExist=a.doesPasswordExist,t.isFreeUsernameChangeAllowed=a.isFreeUsernameChangeAllowed,t.usernameErrorMessage=function(e){return e.$pristine&&t.error?t.error:null},t.getChangePriceText=function(){return t.isFreeUsernameChangeAllowed?i.get("Description.Dialog.ChangeUsernameForFree"):i.get("Description.Dialog.ChangeUsernamePageText",{robuxIcon:"<span class=icon-robux-16x16></span>",price:"1000"})},t.changeUsernameV2=function(){n.beginAccountChangeUsernameV2(t.user).then(function(e){t.usernameUpdateSuccess=!0},function(e){var n=o.default.error.body;e&&e.errors&&e.errors[0]&&e.errors[0].message&&(n=e.errors[0].message),t.error=n})},t.submit=function(e){e.$setPristine(),t.error="",t.doesPasswordExist||(t.user.password="placeholder"),t.changeUsernameV2()},t.dismiss=function(){t.usernameUpdateSuccess?e.close(!0):e.dismiss()}}o.$inject=["$scope","$uibModalInstance","accountsService","modalData","modalConstantsService","languageResource"],t.Z.controller("accountSettingsModalUsernameUpdateController",o),n.default=o},9014:function(e,n,t){"use strict";t.r(n);var X=t(792),t=t(4395);function a(o,i,s,t,r,a,n,e,c,l,d,u,g,p,m,f,b,v,h,y,P){var C,S,w,E="Custom",D="Default",T="Off",A="AllUsers",x="Friends",M="NoOne",k=!1,I=X.Intl&&new X.Intl,U=f.validation.invalid.socialMedia,L={isAvailable:N,isEnabled:function(e){return!!N()&&(w?C:(S||(n=e,S=!(C=w=!1),X.PushNotificationRegistrar&&X.PushNotificationRegistrar.isPushEnabled(function(e){w=!(S=!1),C=e,a(function(){}),n(!0)})),!1));var n},enable:function(e){N()&&X.PushNotificationRegistrationUI.enable(function(){X.PushNotificationRegistrar.getEventPublisher().Publish(X.PushNotificationEventPublishers.RegistrationEventTypes.settingsPageEnabled),R(),e()})},disable:function(e){N()&&X.PushNotificationRegistrationUI.disable(function(){X.PushNotificationRegistrar.getEventPublisher().Publish(X.PushNotificationEventPublishers.RegistrationEventTypes.settingsPageDisabled),R(),e()})},isToggleable:function(){return!0}};function R(){C=w=!1}function N(){return X.PushNotificationRegistrar&&X.PushNotificationRegistrar.isPushSupported()&&X.PushNotificationRegistrationUI}var F,V,B,O=(B=V=F=w=S=C=!1,{isAvailable:function(){return!0},isToggleable:function(){return X.NotificationSettingsAuthority.canToggleMobilePushNotifications()},enable:function(){e.triggerHandler("Roblox.Settings.PushEnabledOnDevice"),F=!0},disable:function(e){X.NotificationSettingsAuthority.deregisterCurrentDevice(function(){F=B=!1,e(!0)})},isEnabled:function(e){return B?F:(V||(n=e,V=!(F=B=!1),X.NotificationSettingsAuthority.isPushEnabled(function(e){B=!(V=!1),F=e,a(function(){}),n(!0)})),!1);var n}});var G,H=100,j=g.notificationSourceTypeMapping,q=g.receiverDestinationTypeMapping;function W(){var e;o.accountContent.userInfo.data&&((e=o.accountContent.userInfo.data).isPremiumUser=o.accountContent.subscriptionInfo,e.isPremiumUser&&(e.subscriptionTypeName=y.getMembershipMapping(o.accountContent.subscriptionInfo.subscriptionTypeName),e.subscriptionRenewal=o.accountContent.subscriptionInfo.renewal?b.intl.d(new Date(o.accountContent.subscriptionInfo.renewal),"short"):null,e.subscriptionExpiration=b.intl.d(new Date(o.accountContent.subscriptionInfo.expiration),"short")))}function Y(e,n){return u.open({titleText:e,bodyText:n})}function Z(e){r.sendButtonClickEvent(e)}q.forEach(function(e){"DesktopPush"===e.destinationType&&(e.getUnavailableReason=function(){var e="Google Chrome versions ".concat(o.desktopPushSettings.minimumChromeVersion," and above"),n=o.desktopPushSettings.enabledOnFirefox?", and Firefox versions 46 and above":"";return"Desktop Push is currently only supported on ".concat(e).concat(n,".")},e.areSourcesShown=!0,e.availabilityCheck=L.isAvailable,e.customEnablement=L.enable,e.customDisablement=L.disable,e.customEnabledCheck=L.isEnabled,e.isToggleable=L.isToggleable),"MobilePush"===e.destinationType&&(e.availabilityCheck=O.isAvailable,e.customEnablement=O.enable,e.customDisablement=O.disable,e.customEnabledCheck=O.isEnabled,e.isToggleable=O.isToggleable)}),o.defaultHelpUrl="https://en.help.roblox.com/entries/22631829",o.localizedHelpUrl={zh_cn:"https://en.help.roblox.com/hc/zh-cn/articles/203313120",zh_cjv:"https://en.help.roblox.com/hc/zh-cn/articles/203313120"},o.cancelRenewalUrl=angular.element(document.getElementById("state-properties")).attr("data-cancelrenewalurl"),o.showBlockedUsers=!1,o.populateAccount=r.populateAccount,o.themeContent={newThemeType:m.defaultThemeType,oldThemeType:m.defaultThemeType,availableThemes:[]},o.accountPinContent={isEnabled:!1,isUnlocked:!1,unlockedUntil:null,pinLength:4},o.parentContent={accountRestrictions:{isFeatureEnabled:!1}},o.connectedAccounts={isConnectedAccountsBoxShown:!1,providerName:"",userName:""},o.processErrorMessage=function(e){var n=e;return e&&e.errors&&e.errors[0]&&e.errors[0].message&&(n=e.errors[0].message),n},o.gigyaUserInfo=function(){gigya.socialize.getUserInfo({callback:function(e){var n=e&&e.user?e.user.nickname:"";a(function(){o.connectedAccounts.providers.forEach(function(e){e.provider.toLowerCase()===m.socialAuth.providers.facebook&&(e.identifier=n)})})}})},o.xbox={isDisconnectXboxEnabled:!1,isDisconnectXboxBoxShown:!1},o.accountContent={userInfo:{},hasEmailButNotVerified:!1,hasVerfiedEmail:!1,emailStatus:m.emailStatus.none,email:""},o.pinFields={pinOne:"",pinTwo:"",pinThree:"",pinFour:""},o.passwordInfo={newPassword:"",currentPassword:""},o.notificationSettings={notificationBandSettings:[],optedOutNotificationSourceTypes:[],optedOutReceiverDestinationTypes:[],updatedDestinationTypeOptOuts:{}},o.notificationSourceTypeMapping={},o.receiverDestinationTypeMapping=[],o.contactSettings={},o.joinSettings={},o.parentalSettings={},o.accountRestrictions={},o.socialNetworks={},o.tradeSettings={},o.inventorySettings={},o.accountInfoSettings={},o.accountSettingsPolicy=m.accountSettingsPolicyLeastPrivileged,o.personal={description:"",birthdate:{},gender:{},country:{}},o.isV2Enabled={socialNetworks:!1},o.allActiveCountryList={},o.accountInformationMetadata={isAllowedNotificationsEndpointDisabled:!1,isAccountSettingsPolicyEnabled:!1,isPhoneNumberEnabled:!1},o.addOrChangePhone=function(){var e;o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.addOrChangePhone,H):(o.phoneModalData=angular.extend(o.phoneModalData,{codeLength:o.accountInfoSettings.verificationCodeLength}),e={templateUrl:m.templates.modal.phoneSet,controller:m.controllers.modal.phoneSet,scope:o},d.open(e).result.then(function(e){X.BootstrapWidgets.ToggleSystemMessage($(".alert-success"),100,3e3,e.message),o.getPhoneNumber()}))},o.showSuccess=function(){var e=b.get("Description.SuccessDialogMessage");v.success(e,100,1e3)},o.setAccountInfo=function(e){var n;o.accountContent.userInfo={data:e,hasError:!1},W(),o.accountContent.hasVerifiedEmail=o.accountContent.userInfo.data.IsEmailOnFile&&o.accountContent.userInfo.data.IsEmailVerified,o.accountContent.hasEmailButNotVerified=o.accountContent.userInfo.data.IsEmailOnFile&&!o.accountContent.userInfo.data.IsEmailVerified,o.accountContent.emailStatus=o.getEmailStatus(),o.accountContent.email=o.accountContent.userInfo.data.UserEmail,o.setXboxConnectionUrls(o.accountContent.userInfo.data.AuthDomain),o.setNotificationSettingsUrls(o.accountContent.userInfo.data.NotificationSettingsDomain),angular.forEach(o.accountContent.userInfo.data.AllowedNotificationSourceTypes,function(e){o.notificationSourceTypeMapping[e]=j[e]}),o.receiverDestinationTypeMapping=q.filter(function(e){if(-1!==o.accountContent.userInfo.data.AllowedReceiverDestinationTypes.indexOf(e.destinationType)){e=m.accountSettingsPolicyNotificationDestinations[e.destinationType];if(e)return o.accountSettingsPolicy[e]}return!1}),o.desktopPushSettings={minimumChromeVersion:e.MinimumChromeVersionForPushNotifications,enabledOnFirefox:e.PushNotificationsEnabledOnFirefox},o.percentTranslator=function(e){return null==e?"-":b.intl.n(e,"percent")},o.dateMonthTranslator=function(e){return b.intl.d(new Date(e),{month:"long"})},o.dateYearTranslator=function(e){return b.intl.d(new Date(e),{year:"numeric"})},o.getNotificationSettings(),o.setAccountSettingsApiUrl(o.accountContent.userInfo.data.AccountSettingsApiDomain),o.setAuthDomainUrl(o.accountContent.userInfo.data.AuthDomain),o.accountContent.userInfo.data.IsAccountPinEnabled&&o.getAccountPinSetting(),o.setUpSocialDisconnect(),o.getXboxConnection(),o.getAccountRestrictions(),o.getCurrentTheme(),o.getAvailableThemes(),o.prepForV2(e),k||(k=!0,(n=c.search()).changepassword?o.setPassword():n.confirmemail&&(e=modalConstants.emailVerify[n.confirmemail+modalConstants.emailVerify.messageSuffix]||modalConstants.emailVerify.unspecifiedMessage,n=modalConstants.emailVerify[n.confirmemail+modalConstants.emailVerify.actionSuffix]||"",o.confirmEmail(e,n)))},o.getAccountInfo=function(){r.beginGetAccountInfo().then(function(e){o.setAccountInfo(e)},function(e){o.accountContent.userInfo={data:e,hasError:!0}})},o.getAccountSubscription=function(){y.getUserStatus().then(function(e){o.accountContent.subscriptionInfo=e?e.subscriptionProductModel:null,W()})},o.handleCancelBtnClicked=function(){var e=o.accountContent.userInfo.data.PremiumFeatureId;X.FormEvents&&e&&X.FormEvents.SendInteractionClick("cancelRenewal",{pid:e})},o.isAnyMembership=function(){return!!(o.accountContent&&o.accountContent.userInfo&&o.accountContent.userInfo.data)&&o.accountContent.userInfo.data.isPremiumUser},o.isMembershipRenewal=function(){return!!(o.accountContent&&o.accountContent.userInfo&&o.accountContent.userInfo.data)&&o.accountContent.userInfo.data.subscriptionRenewal},o.prepForV2=function(e){o.isV2Enabled.socialNetworks=e.IsAccountSettingsSocialNetworksV2Enabled,o.accountContent.isPhoneFeatureEnabled=e.IsPhoneFeatureEnabled,o.getAccountInfoSettings(),o.getPersonalSettings(),o.getJoinSettings(),o.getTradeSettings(),o.getInventorySettings(),o.getContactSettings(),o.getParentalSettings(),o.getSocialNetworks()},o.getAccountInfoSettings=function(){o.getPhoneNumber()},o.getPhoneNumber=function(){r.beginGetPhone().then(function(e){o.accountContent.userInfo.data.UserAbove13&&(o.accountInfoSettings.isPhoneNumberVisible=!0,o.accountInfoSettings.countryCode=e.countryCode,o.accountInfoSettings.prefix=e.prefix,o.accountInfoSettings.phone=e.phone,o.accountInfoSettings.isPhoneVerified=e.isVerified,o.accountInfoSettings.verificationCodeLength=e.verificationCodeLength)},function(e){s.debug("Error getting phone")})},o.getPersonalSettings=function(){o.isDateTimeI18nPickerEnabled()&&(o.populateAccount.orderedBirthdayParts={parts:m.defaultDateParts,typeOrder:(new X.Intl).getDateTimeFormatter().getOrderedDateParts()}),r.beginGetDescription().then(function(e){o.personal.description=e.description},function(e){s.debug("Error getting personal description")}),r.beginGetBirthdate().then(function(e){var n=o.personal.birthdate;n.birthDay=e.birthDay,n.birthMonth=e.birthMonth,n.birthYear=e.birthYear,o.personal.birthdate.fullBirthdate=function(){return new Date(n.birthYear,n.birthMonth-1,n.birthDay)},o.populateDays(),o.populateMonths(),o.populateYears(),n.originalBirthdate=n.fullBirthdate()},function(e){s.debug("Error getting personal birthdate")}),r.beginGetCountry().then(function(e){var n;e.success?(n=0,e.countryId&&(n=e.countryId),o.personal.country.countryId=n):s.debug("Failed to get personal country. Message : ".concat(e.errorMessage))},function(e){s.debug("Error getting personal country")}),r.beginGetGender().then(function(e){o.personal.gender=e.gender.toString()},function(e){s.debug("Error getting personal gender")})},o.updateDescription=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateDescription,H):r.beginUpdateDescription(o.personal.description).then(function(e){Y(p.default.success.title,p.default.success.body)},function(e){Y(p.default.error.title,p.default.error.body),s.debug("Error updating personal description")})},o.updateBirthdate=function(){function n(){o.personal.birthdate.birthMonth=o.personal.birthdate.originalBirthdate.getMonth()+1,o.personal.birthdate.birthDay=o.personal.birthdate.originalBirthdate.getDate(),o.personal.birthdate.birthYear=o.personal.birthdate.originalBirthdate.getFullYear(),o.populateDays()}var e,t,a=function(e,n,t){var a=t,o=n-1,i=new Date(e,o,t,0,0,0,0);if(i.getMonth()>o)for(;i.getMonth()!==o;)a--,i=new Date(e,o,a,0,0,0,0);return i}(o.personal.birthdate.birthYear,o.personal.birthdate.birthMonth,o.personal.birthdate.birthDay);o.personal.birthdate.birthMonth=a.getMonth()+1,o.personal.birthdate.birthDay=a.getDate(),o.personal.birthdate.birthYear=a.getFullYear(),o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateBirthdate,H,n):(e=function(t){r.beginUpdateBirthdate(o.personal.birthdate).then(function(e){t&&i.location.reload();var n=o.personal.birthdate;n.fullBirthdate=function(){return new Date(n.birthYear,n.birthMonth-1,n.birthDay)},n.originalBirthdate=n.fullBirthdate(),o.populateDays()},function(e){Y(p.default.error.title,p.default.error.body),n(),s.debug("Error updating personal birthdate")})},o.personal.birthdate.fullBirthdate().setHours(0,0,0,0)>=(new Date).setHours(0,0,0,0)&&(n(),Y(p.default.error.title,b.get("Response.InvalidBirthday"))),(t=o.personal.birthdate.originalBirthdate&&13<=o.calculateAge(o.personal.birthdate.originalBirthdate)&&o.calculateAge(o.personal.birthdate.fullBirthdate())<13)?o.accountContent.userInfo.data.IsAgeDownEnabled?r.beginGetSocialConnected().then(function(e){e=e&&e.providers&&e.providers[0]&&e.providers[0].provider.toLowerCase()===m.socialAuth.providers.facebook?o.accountContent.userInfo.data.IsSetPasswordNotificationEnabled?u.open({titleText:p.birthdayChange.needPassword.title,bodyText:p.birthdayChange.needPassword.body}):u.open({titleText:p.birthdayChange.default.title,bodyText:p.birthdayChange.withSocialSignOn.body,actionButtonShow:!0,actionButtonText:p.birthdayChange.withSocialSignOn.positiveBtnText,neutralButtonText:p.birthdayChange.withSocialSignOn.negativeBtnText}):u.open({titleText:p.birthdayChange.default.title,bodyText:p.birthdayChange.default.body,actionButtonShow:!0,actionButtonText:p.default.positiveBtnText,neutralButtonText:p.default.negativeBtnText});return e.result}).then(function(){e(t)}).catch(n):(n(),Y(p.default.error.title,b.get("ResponseAgeDownError"))):e(t))},o.updateGender=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateGender,H):r.beginUpdateGender(o.personal.gender).then(function(e){o.showSuccess()},function(e){s.debug("Error updating gender")})},o.updateCountry=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateCountry,H):o.personal.country.countryId<=0||r.beginUpdateCountry(o.personal).then(function(e){e.success||s.debug("Failed to update country. Message: ".concat(e.errorMessage))},function(e){s.debug("Error updating country")})},o.getCurrentTheme=function(){r.beginGetConsumerThemes().then(function(e){e=e.themeType;e===m.themeTypes.classic&&(e=o.accountData.stateProperties.defaultThemeType),o.themeContent.newThemeType=e,o.themeContent.oldThemeType=e},function(){u.open({titleText:p.default.error.title,bodyText:p.default.error.body})})},o.getAvailableThemes=function(){r.beginGetAvailableThemeTypes().then(function(n){var e=o.populateAccount.themes,t=[];e.forEach(function(e){-1!==n.data.indexOf(e.value)&&t.push(e)}),o.themeContent.availableThemes=t},function(){u.open({titleText:p.default.error.title,bodyText:p.default.error.body})})},o.getContactSettings=function(){r.beginGetContactSettings().then(function(e){o.contactSettings.AppChatPrivacy=e.appChatPrivacy,o.contactSettings.GameChatPrivacy=e.gameChatPrivacy,o.contactSettings.PrivateMessagePrivacy=e.privateMessagePrivacy,o.setContactSettingsMasterSetting()},function(e){s.debug("Error getting contact settings")})},o.getParentalSettings=function(){r.beginGetContentRatings().then(function(e){o.parentalSettings.ContentRatings=e.contentRestrictionLevel},function(e){s.debug("Error getting parental settings")})},o.onContactSettingsMasterSettingChange=function(){if(o.pinIsEnabledAndLocked())o.unlockAccountPinSetting(o.onContactSettingsMasterSettingChange,H);else{var e=o.contactSettings.MasterSetting;if(e===D?(o.contactSettings.PrivateMessagePrivacy=x,o.contactSettings.AppChatPrivacy=x,o.contactSettings.GameChatPrivacy=A):e===T&&(o.contactSettings.PrivateMessagePrivacy=M,o.contactSettings.AppChatPrivacy=M,o.contactSettings.GameChatPrivacy=M),e!==E){var n=r.beginUpdateAppChatPrivacy(o.contactSettings);n.then(function(e){},function(e){s.debug("Error updating app chat privacy")});var t=r.beginUpdateGameChatPrivacy(o.contactSettings);t.then(function(e){},function(e){s.debug("Error updating game chat privacy")});e=r.beginUpdatePrivateMessagePrivacy(o.contactSettings);e.then(function(e){},function(e){s.debug("Error updating private message privacy")});e=h.all([n,t,e]);return e.then(function(){o.showSuccess()},function(){s.debug("Error switching master contact setting");var e=b.get("MessageUnknownError");v.warning(e,5e3)}),e}}},o.updateAppChatPrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateAppChatPrivacy,H):(o.contactSettings.MasterSetting=E,r.beginUpdateAppChatPrivacy(o.contactSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating app chat privacy")}))},o.updateGameChatPrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateGameChatPrivacy,H):(o.contactSettings.MasterSetting=E,r.beginUpdateGameChatPrivacy(o.contactSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating game chat privacy")}))},o.updatePrivateMessagePrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updatePrivateMessagePrivacy,H):(o.contactSettings.MasterSetting=E,r.beginUpdatePrivateMessagePrivacy(o.contactSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating private message privacy")}))},o.getJoinSettings=function(){r.beginGetPrivateServerInvitePrivacy().then(function(e){o.joinSettings.privateServerInvitePrivacy=e.PrivateServerInvitePrivacy},function(e){s.debug("Error getting private server invite privacy")}),r.beginGetFollowMePrivacy().then(function(e){o.joinSettings.followMePrivacy=e.FollowMePrivacy},function(e){s.debug("Error getting follow me privacy")})},o.updatePrivateServerInvitePrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updatePrivateServerInvitePrivacy,H):r.beginUpdatePrivateServerInvitePrivacy(o.joinSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating private server invite privacy")})},o.updateFollowMePrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateFollowMePrivacy,H):r.beginUpdateFollowMePrivacy(o.joinSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating follow me privacy")})},o.getTradeSettings=function(){r.beginGetTradePrivacy().then(function(e){o.tradeSettings.tradePrivacy=e.tradePrivacy},function(e){s.debug("Error getting trade privacy")}),r.beginGetTradeValue().then(function(e){o.tradeSettings.tradeValue=e.tradeValue},function(e){s.debug("Error getting trade value")})},o.updateTradePrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateTradePrivacy,H):r.beginUpdateTradePrivacy(o.tradeSettings).then(function(e){"Conflict"===e.privacySettingResponse?(o.inventorySettings.inventoryPrivacy=e.inventoryPrivacy,e=r.getUpdateInventoryPrivacyMessageWhenConflict(),v.success(e,300,5e3)):o.showSuccess()},function(e){s.debug("Error updating trade privacy")})},o.updateTradeValue=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateTradeValue,H):r.beginUpdateTradeValue(o.tradeSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating trade value")})},o.updateContentRatings=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateContentRatings,H):r.beginUpdateContentRatings(o.parentalSettings).then(function(e){o.showSuccess()},function(e){s.debug("Error updating content ratings")})},o.isContentRatingsSettingVisible=function(){return o.accountContent.userInfo.data&&o.accountContent.userInfo.data.IsContentRatingsSettingEnabled},o.getSocialNetworks=function(){r.beginGetPromotionChannels().then(function(e){o.socialNetworks.SocialNetworksVisibilityPrivacy=e.promotionChannelsVisibilityPrivacy,o.socialNetworks.FacebookUrl=e.facebook,o.socialNetworks.TwitterUrl=e.twitter,o.socialNetworks.YouTubeUrl=e.youtube,o.socialNetworks.TwitchUrl=e.twitch},function(e){s.debug("Error getting social networks")})},o.getInventorySettings=function(){r.beginGetInventoryPrivacy().then(function(e){o.inventorySettings.inventoryPrivacy=e.inventoryPrivacy},function(e){s.debug("Error getting inventory privacy")})},o.updateInventoryPrivacy=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateInventoryPrivacy,H):r.beginUpdateInventoryPrivacy(o.inventorySettings).then(function(e){"Conflict"===e.privacySettingResponse?(o.tradeSettings.tradePrivacy=e.tradePrivacy,e=r.getUpdateTradePrivacyMessageWhenConflict(),v.success(e,300,5e3)):o.showSuccess()},function(e){s.debug("Error updating inventory privacy")})},o.updateSocialNetworks=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.updateSocialNetworks,H):r.beginUpdatePromotionChannels(o.socialNetworks).then(function(){Y(p.default.success.title,p.default.success.body)},function(e){var n=e||U;e&&e.errors&&e.errors[0]&&e.errors[0].message&&(e=e.errors[0].code,n=(e=m.socialErrorCode[e])?b.get(e):b.get("MessageUnknownError")),Y(p.default.error.title,n)})},o.convertDate=function(e){e=parseInt(e.replace(/(^.*\()|([+-].*$)/g,"")),e=new Date(e),e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return t("datetime")(e)},o.currentDate=new Date,o.calculateAge=function(e){e=Date.now()-e.getTime(),e=new Date(e);return Math.abs(e.getUTCFullYear()-1970)},o.isAsianBirthdayPickerEnabled=function(){return I&&I.isAsianLanguage()},o.isDateTimeI18nPickerEnabled=function(){return o.accountContent.userInfo.data&&o.accountContent.userInfo.data.IsDateTimeI18nPickerEnabled},o.populateYears=function(){for(var e=parseInt(t("date")(new Date,"yyyy")),n=0;n<100;n++)o.populateAccount.years[n]={name:o.isAsianBirthdayPickerEnabled()?I.getFormattedDateString(e-n,b.get("Label.Year")):e-n,value:e-n};o.isDateTimeI18nPickerEnabled()&&o.setOrderedBirthdayPart("year",o.populateAccount.years)},o.populateDays=function(){var e=o.personal.birthdate.birthYear,n=o.personal.birthdate.birthMonth-1,t=new Date(e,1+n,0);o.personal.birthdate.birthDay>t.getDate()&&(o.personal.birthdate.birthDay=t.getDate()),o.populateAccount.days=[];for(var a=0;a<t.getDate();a++)o.populateAccount.days[a]={name:o.isAsianBirthdayPickerEnabled()?I.getFormattedDateString(a+1,b.get("Label.Day")):a+1,value:a+1};o.isDateTimeI18nPickerEnabled()&&o.setOrderedBirthdayPart("day",o.populateAccount.days)},o.populateMonths=function(){var e;o.isDateTimeI18nPickerEnabled()&&(e=(e=X.Intl&&new X.Intl)?e.getMonthsI18n("short",b.get("Label.Month")):b.intl.getMonthsList(),o.setOrderedBirthdayPart("month",e))},o.setOrderedBirthdayPart=function(e,n){var t=o.populateAccount.orderedBirthdayParts.typeOrder[e];o.populateAccount.orderedBirthdayParts.parts[t]={options:n,idName:m.birthdayPicker[e].id,className:m.birthdayPicker[e].class,birthdayName:m.birthdayPicker[e].name}},o.signOutFromSessions=function(){r.beginAccountSignOut().then(function(e){Y(p.default.success.title,p.secureSignOut.success.body)},function(e){Y(p.default.error.title,p.secureSignOut.error.body)})},o.disconnectFromFb=function(){r.beginUpdateSocialDisconnect(m.socialAuth.providers.facebook).then(function(e){o.refreshPage()},function(e){console.info(e),Y(p.default.error.title,o.processErrorMessage(e))})},o.initiateFbDisconnect=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.initiateFbDisconnect,H):o.accountContent.userInfo.data.IsSetPasswordNotificationEnabled?d.open({templateUrl:m.templates.modal.passwordSet,controller:m.controllers.modal.passwordSet,resolve:{modalData:{facebookDisconnect:!0,changePassword:!o.accountContent.userInfo.data.IsSetPasswordNotificationEnabled,doesPasswordExist:o.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){r.beginGetAccountInfo().then(function(e){o.setAccountInfo(e),o.accountContent.userInfo.data.IsSetPasswordNotificationEnabled||o.disconnectFromFb()},function(e){o.accountContent.userInfo={data:e,hasError:!0}})}):o.disconnectFromFb()},o.disconnectFromProvider=function(e){e.toLowerCase()===m.socialAuth.providers.facebook?o.initiateFbDisconnect():d.open({templateUrl:m.templates.modal.socialDisconnect,controller:m.controllers.modal.socialDisconnect,resolve:{modalData:{provider:e}}}).result.then(function(){i.location.reload()},angular.noop)},o.disconnectFromXbox=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.disconnectFromXbox,H):r.beginDisconnectXbox().then(function(e){e.success?o.refreshPage():Y(p.default.success.title,p.disconnectXbox.error.body)})},o.chooseGender=function(e){o.personal.gender=e,o.updateGender()},o.privacyModeInfo=function(){var e=o.localizedHelpUrl[I.getRobloxLocale()];e?i.open(e,"_blank"):i.open(o.defaultHelpUrl,"_blank")},o.buyRobux=function(e){i.location.href=e},o.refreshPage=function(){o.getAccountSubscription(),o.getAccountInfo()},o.setPassword=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.setPassword,H):d.open({templateUrl:m.templates.modal.passwordSet,controller:m.controllers.modal.passwordSet,resolve:{modalData:{facebookDisconnect:!1,changePassword:!o.accountContent.userInfo.data.IsSetPasswordNotificationEnabled,doesPasswordExist:o.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){o.refreshPage()})},o.changeUsername=function(){var e;o.accountContent.userInfo.data.IsEmailOnFile||!1!==o.accountContent.userInfo.data.HasFreeNameChange?o.accountContent.userInfo.data.IsEmailVerified||!1!==o.accountContent.userInfo.data.HasFreeNameChange?o.accountContent.userInfo.data.HasCurrencyOperationError&&!1===o.accountContent.userInfo.data.HasFreeNameChange?Y("Currency Service Error",o.accountContent.userInfo.data.CurrencyOperationErrorMessage||"There was an error with the currency service. Try again later."):null===o.accountContent.userInfo.data.HasFreeNameChange?Y(p.default.error.title,p.default.error.body):0<o.accountContent.userInfo.data.RobuxRemainingForUsernameChange&&!1===o.accountContent.userInfo.data.HasFreeNameChange?(e='<span class="'.concat("icon-robux-16x16",'"></span><span>').concat(o.accountContent.userInfo.data.RobuxRemainingForUsernameChange,"</span>"),u.open({titleText:p.changeUsername.changeUsernameTitle,bodyHtmlUnsafe:p.changeUsername.changeUsernameMessage({robuxToBuy:e}),actionButtonText:p.changeUsername.changeUsernameBuy,actionButtonShow:!0,actionButtonClass:"btn-primary-md",neutralButtonShow:!1,cssClass:"modal-insufficient-funds"}).result.then(function(){o.buyRobux(o.accountData.stateProperties.buyRobuxUrl)})):o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.changeUsername,H):d.open({templateUrl:m.templates.modal.usernameUpdate,controller:m.controllers.modal.usernameUpdate,resolve:{modalData:{userEmail:o.accountContent.userInfo.data.UserEmail,accountPinLength:o.accountPinContent.pinLength,doesPasswordExist:o.accountContent.userInfo.data.HasValidPasswordSet,isFreeUsernameChangeAllowed:o.accountContent.userInfo.data.HasFreeNameChange}}}).result.finally(function(){o.refreshPage()}):o.verifyEmailAddress(!0,p.changeUsername.unverifiedEmail):o.setEmailAddress(p.changeUsername.missingEmail)},o.getEmailStatus=function(){var e;return o.accountContent.hasVerifiedEmail?m.emailStatus.verified:null!==(e=o.accountContent.userInfo.data)&&void 0!==e&&e.IsEmailOnFile?m.emailStatus.unverified:m.emailStatus.none},o.verifyEmailAddress=function(e,n){Z(m.events.verifyEmailBtn),d.open({templateUrl:m.templates.modal.emailVerify,controller:m.controllers.modal.emailVerify,resolve:{modalData:{contextForVerification:n,verifiedEmailRequired:e}}})},o.setEmailAddress=function(e){o.accountContent.userInfo.data.IsEmailOnFile?Z(m.events.changeEmailBtn):Z(m.events.addEmailBtn),o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.setEmailAddress,H):d.open({templateUrl:m.templates.modal.emailSet,controller:m.controllers.modal.emailSet,resolve:{modalData:{isEmailVerified:o.accountContent.userInfo.data.IsEmailVerified,emailRequired:!o.accountContent.userInfo.data.IsEmailOnFile&&e,action:e,changeEmail:o.accountContent.userInfo.data.IsEmailOnFile,over13:o.accountContent.userInfo.data.UserAbove13,doesPasswordExist:o.accountContent.userInfo.data.HasValidPasswordSet}}}).result.finally(function(){o.refreshPage()})},o.confirmEmail=function(e,n){o.accountContent.hasEmailButNotVerified?u.open({titleText:modalConstants.emailVerify.verifiedEmailRequiredTitle,bodyText:e,actionButtonShow:!0,actionButtonText:modalConstants.emailVerify.unverifiedEmailButtonText,neutralButtonShow:!1}).result.then(function(){o.verifyEmailAddress(!1)},function(){}):o.setEmailAddress(n)},o.addPhone=function(){Z(m.events.addPhoneBtn),o.phoneModalData={action:p.phoneSet.addActionLabel,isAttemptToChangePhone:!1},o.addOrChangePhone()},o.changePhone=function(){Z(m.events.changePhoneBtn),o.phoneModalData={action:p.phoneSet.editActionLabel,isAttemptToChangePhone:!0,countryCode:o.accountInfoSettings.countryCode,prefix:o.accountInfoSettings.prefix,maskedNumber:o.accountInfoSettings.phone},o.addOrChangePhone()},o.toggleBlockedUsers=function(){o.showBlockedUsers=!o.showBlockedUsers},o.unBlock=function(e){r.beginAccountUnblockUser(e.uid).then(function(){o.accountContent.userInfo.data&&--o.accountContent.userInfo.data.BlockedUsersModel.Total,e.hidden=!0},function(e){s.error("Failed to unblock user.",e);e=b.get("Response.Dialog.DefaultErrorMessage");v.warning(e,5e3)})},o.getNotificationSettings=function(){o.receiverDestinationTypeMapping.length<1||angular.equals(o.notificationSourceTypeMapping,{})||r.beginGetNotificationSettings().then(function(e){o.notificationSettings=e,o.notificationSettings.updatedDestinationTypeOptOuts={}},function(e){s.debug(e)})},o.destinationNotificationBands=function(n){return o.notificationSettings.notificationBandSettings.filter(function(e){return e.receiverDestinationType===n})},o.isNotificationBandBlacklisted=function(e,n){return"MobilePush"===n&&0<=o.accountContent.userInfo.data.BlacklistedNotificationSourceTypesForMobilePush.indexOf(e)},o.setNotificationSettingsUrls=function(e){r.setNotificationSettingsUrls(e)},o.setXboxConnectionUrls=function(e){r.setXboxConnectionUrls(e)},o.setAuthDomainUrl=function(e){r.setAuthDomainUrl(e)},o.setAccountSettingsApiUrl=function(e){r.setAccountSettingsApiUrl(e)},o.isAvailable=function(e){return!e.availabilityCheck||e.availabilityCheck()},o.isToggleable=function(e){return void 0===e.isToggleable||e.isToggleable()},o.isDestinationTypeOptedOut=function(e){if(e.customEnabledCheck)return!e.customEnabledCheck(function(e){o.$apply()});var n=e.destinationType;return 0<o.notificationSettings.optedOutReceiverDestinationTypes.filter(function(e){return e===n}).length},o.toggleDestinationTypeOptOut=function(e){var n=e.destinationType;if(o.isDestinationTypeOptedOut(e))if(e.customEnablement)e.customEnablement(function(e){o.$apply()});else{o.notificationSettings.updatedDestinationTypeOptOuts[n]=e;for(var t=0;t<o.notificationSettings.optedOutReceiverDestinationTypes.length;t++)if(o.notificationSettings.optedOutReceiverDestinationTypes[t]===n)return void o.notificationSettings.optedOutReceiverDestinationTypes.splice(t,1)}else e.customDisablement?e.customDisablement(function(e){o.$apply()}):(o.notificationSettings.updatedDestinationTypeOptOuts[n]=e,o.notificationSettings.optedOutReceiverDestinationTypes.push(n))},o.toggleNotificationBand=function(e){e.isOverridable&&(e.isSetByReceiver=!0,e.isEnabled=!e.isEnabled)},o.updateNotificationSettings=function(){if(o.pinIsEnabledAndLocked())o.unlockAccountPinSetting(o.updateNotificationSettings,H);else{var e,n=o.notificationSettings.notificationBandSettings.filter(function(e){return e.isSetByReceiver}),t=[],a=[];for(e in o.notificationSettings.updatedDestinationTypeOptOuts)(o.isDestinationTypeOptedOut(o.notificationSettings.updatedDestinationTypeOptOuts[e])?a:t).push(e);r.beginUpdateNotificationSettings(n,a,t).then(function(){o.refreshPage(),Y(g.modalText.success.title,g.modalText.success.body)},function(){Y(g.modalText.error.title,g.modalText.error.body)})}},o.setAccountPinSetting=function(e){o.accountPinContent.isEnabled=e.isEnabled,o.accountPinContent.unlockedUntil=e.unlockedUntil,o.accountPinContent.isUnlocked=!1,e.isEnabled&&e.unlockedUntil&&(o.accountPinContent.isUnlocked=!0,o.startTimer(e.unlockedUntil))},o.pinIsEnabledAndLocked=function(){return o.accountPinContent.isEnabled&&!o.accountPinContent.isUnlocked&&o.accountContent.userInfo.data.IsAccountPinEnabled},o.getAccountPinSetting=function(){r.beginGetAccountPinSetting().then(function(e){e&&o.setAccountPinSetting(e)},function(e){s.debug(e)})},o.lockAccountPinSetting=function(){r.beginLockAccountPinSetting().then(function(e){e&&(o.accountPinContent.isUnlocked=!1,o.accountPinContent.unlockedUntil=null,o.clearTimer())},function(e){s.debug(e)})},o.unlockAccountPinSetting=function(n,e,t){d.open({templateUrl:m.templates.modal.pinUnlock,controller:m.controllers.modal.pinUnlock,resolve:{modalData:{accountPinLength:o.accountPinContent.pinLength}}}).result.then(function(e){null!=e.unlockedUntil&&(o.accountPinContent.isEnabled=!0,o.accountPinContent.isUnlocked=!0,o.accountPinContent.unlockedUntil=e.unlockedUntil,o.startTimer(Math.floor(e.unlockedUntil)),n&&n.apply())},function(e){t&&t.apply()})},o.startTimer=function(e){o.clearTimer(),o.accountPinContent.timeRemaining=e,o.accountPinContent.timeRemainingMin="--",o.accountPinContent.timeRemainingSec="--",G=n(function(){o.accountPinContent.timeRemaining=o.accountPinContent.timeRemaining-1,o.accountPinContent.timeRemainingMin=Math.floor(o.accountPinContent.timeRemaining/60),o.accountPinContent.timeRemainingSec=Math.floor(o.accountPinContent.timeRemaining-60*o.accountPinContent.timeRemainingMin),o.accountPinContent.timeRemaining<=0&&(o.accountPinContent.isUnlocked=!1,o.accountPinContent.unlockedUntil=null,o.clearTimer())},1e3)},o.clearTimer=function(){n.cancel(G)},o.toggleAccountPinLockSetting=function(){o.accountPinContent.isUnlocked?o.lockAccountPinSetting():o.unlockAccountPinSetting()},o.toggleAccountPinEnabledSetting=function(){o.accountContent.userInfo.data.IsEmailOnFile?o.accountContent.hasVerifiedEmail?o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.toggleAccountPinEnabledSetting,H):o.accountPinContent.isEnabled?r.beginDeleteAccountPinSetting().then(function(e){e&&(o.accountPinContent.isEnabled=!1,o.accountPinContent.isUnlocked=!0,o.accountPinContent.unlockedUntil=null)},function(e){Y("Error",o.processErrorMessage(e)),s.debug(e)}):d.open({templateUrl:m.templates.modal.pinCreate,controller:m.controllers.modal.pinCreate,resolve:{modalData:{userEmail:o.accountContent.userInfo.data.UserEmail,accountPinLength:o.accountPinContent.pinLength}}}).result.then(function(){o.getAccountPinSetting()},function(){}).finally(function(){o.getAccountPinSetting()}):o.verifyEmailAddress(!0,p.pinCreate.unverifiedEmail):o.setEmailAddress(p.pinCreate.missingEmail)},o.getAccountRestrictions=function(){o.parentContent.accountRestrictions.isFeatureEnabled=o.accountContent.userInfo.data.IsAccountRestrictionsFeatureEnabled,r.beginGetAccountRestrictions().then(function(e){o.accountRestrictions=e},function(e){s.debug("Error getting account restrictions settings")})},o.toggleAccountRestrictionsSetting=function(){o.pinIsEnabledAndLocked()?o.unlockAccountPinSetting(o.toggleAccountRestrictionsSetting,H):o.parentContent.accountRestrictions.isFeatureEnabled&&(o.accountRestrictions.IsEnabled?r.beginUpdateAccountRestrictions(!o.accountRestrictions.IsEnabled).then(function(){o.accountRestrictions.IsEnabled=!o.accountRestrictions.IsEnabled,o.showSuccess()},function(e){Y(p.default.error.title,r.beginProcessErrorMessage(e))}):(o.parentalSettings.ContentRatings="Child",r.beginUpdateContentRatings(o.parentalSettings).then(function(e){},function(e){Y(p.default.error.title,r.beginProcessErrorMessage(e))}),o.contactSettings.MasterSetting=T,o.onContactSettingsMasterSettingChange().then(r.beginUpdateAccountRestrictions(!o.accountRestrictions.IsEnabled).then(function(){o.accountRestrictions.IsEnabled=!o.accountRestrictions.IsEnabled,o.showSuccess()},function(e){Y(p.default.error.title,r.beginProcessErrorMessage(e))}))))},o.setUpSocialDisconnect=function(){r.beginGetSocialConnected().then(function(e){e&&(o.connectedAccounts.providers=e.providers,e.providers&&e.providers[0]?(o.connectedAccounts.isConnectedAccountsBoxShown=!0,e.providers.forEach(function(e){e.provider.toLowerCase()===m.socialAuth.providers.facebook&&(o.hideConnectedAccountsDescription=!0,o.gigyaUserInfo())})):o.connectedAccounts.isConnectedAccountsBoxShown=!1)},function(e){Y(p.default.error.title,r.beginProcessErrorMessage(e))})},o.getXboxConnection=function(){o.xbox.isDisconnectXboxEnabled=o.accountContent.userInfo.data.IsDisconnectXboxEnabled,o.xbox.isDisconnectXboxEnabled&&r.beginGetXboxConnection().then(function(e){e&&e.hasConnectedXboxAccount?o.xbox.isDisconnectXboxBoxShown=!0:o.xbox.isDisconnectXboxBoxShown=!1})},o.setContactSettingsMasterSetting=function(){var e=E;o.accountContent.userInfo.data.UserAbove13,o.contactSettings.PrivateMessagePrivacy===x&&o.contactSettings.AppChatPrivacy===x&&o.contactSettings.GameChatPrivacy===A?e=D:o.contactSettings.PrivateMessagePrivacy===M&&o.contactSettings.AppChatPrivacy===M&&o.contactSettings.GameChatPrivacy===M&&(e=T),o.contactSettings.MasterSetting=e},o.getCountryList=function(){r.beginGetCountryList().then(function(e){e.success?(o.allActiveCountryList=e.countryList,e={countryId:0,countryName:f.label.country,localizedName:f.label.country,disabled:!0},o.allActiveCountryList.unshift(e)):s.debug("Failed to get list of countries.")},function(e){s.debug(e)})},o.getAccountSettingsPolicy=function(){var n;o.accountInformationMetadata.isAccountSettingsPolicyEnabled?(n=!0,r.beginGetAccountSettingsPolicy().then(function(e){o.accountSettingsPolicy=e},function(e){n=!1}).finally(function(){o.incrementAccountSettingsPolicyCounter(n),o.initializeController()})):(o.accountSettingsPolicy=m.accountSettingsPolicyDefault,o.initializeController())},o.incrementAccountSettingsPolicyCounter=function(e){var n=m.counters,e=e?n.success:n.failure;P.fireEvent(n.accountSettingPolicyPrefix+e)},o.initializeController=function(){o.accountSettingsPolicy.displayCountryList&&o.getCountryList(),o.getAccountSubscription(),o.getAccountInfo()},o.getAccountInformationMetadataAndInitializeController=function(){r.beginGetAccountInformationMetadata().then(function(e){o.accountInformationMetadata=e},function(e){}).finally(function(){o.getAccountSettingsPolicy()})},o.getAccountInformationMetadataAndInitializeController()}a.$inject=["$scope","$window","$log","$filter","accountsService","$timeout","$interval","$document","$location","$state","$uibModal","modalService","notificationConstantsService","modalConstantsService","accountConstantsResources","commonConstantsService","languageResource","systemFeedbackService","$q","premiumService","eventTrackerService"],t.Z.controller("accountsContentController",a),n.default=a},4579:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(i,e,n,t,a,s,o){i.accountsTabs=[],i.currentData={activeTab:"",stateLabel:""},i.initTabs=function(){i.accountsTabs=o.accountTabsDefault,a.getGroupsAndPolicy().then(function(e){i.accountsTabs=[];for(var n=0;n<e.tabsListing.length;n++)!e.getPolicy.displayBillingTab&&"billing"===e.tabsListing[n].suffix||i.accountsTabs.push({name:e.tabsListing[n].suffix,label:e.tabsListing[n].title})},function(e){n.debug("Error getting account info.")})},i.mappedDestinationTypes=[],i.destinationTypes=t.destinationTypes;a.beginGetAccountInformationMetadata().then(function(e){e.isAllowedNotificationsEndpointDisabled||this.getAllowedNotificationDestinationTypes()},function(e){this.getAllowedNotificationDestinationTypes()}),i.accountData=i.accountData||{stateProperties:{}},i.$on("$stateChangeSuccess",function(e,n,t,a,o){i.currentData.activeTab=n.name,i.currentData.stateLabel=s.tabs[n.name]}),i.$watch("accountData",function(e,n){i.hideMobileTabList=i.accountData.stateProperties.hideMobileTabList}),i.initTabs()}a.$inject=["$scope","$state","$log","notificationConstantsService","accountsService","commonConstantsService","accountConstantsResources"],t.Z.controller("accountsController",a),n.default=a},2142:function(e,n,t){"use strict";t.r(n);var a=t(5734),g=t.n(a),p=t(957),t=t(4395);function o(a,o,i,e,s,r,n,c){var l=e.pageData;a.modalData={originalDisplayName:g().copy(l.DisplayName),newDisplayName:"",currentDisplayName:g().copy(l.DisplayName),displayNameNeedsValidating:"",maxRetryOnMissingValidation:5,countOnMissingValidationRetry:0},a.modalLayout=g().copy(r.changeDisplayNameLayout);var n=n.eventstreamParams,d=n.changeDisplayNameEvent,u=n.successCtx,t=n.cancelCtx;a.handleResponseFailure=function(e){var n,t;null!=e&&e.errors&&0<(null==e?void 0:e.errors.length)&&(t=(null==e?void 0:e.errors[0]).code,e=(n=r.changeDisplayNameResponse).errorMessages,t=n.errorCodeMapMsg[t],a.modalLayout.displayErrorMsg=e[t])},a.saveDisplayName=function(){var e=a.modalData,n=e.originalDisplayName,t=e.currentDisplayName;o.updateDisplayName(null===p.authenticatedUser||void 0===p.authenticatedUser?void 0:p.authenticatedUser.id,t).then(function(){a.modalLayout.isRequestFailed=!1,l.DisplayName=t,s.sendEventWithTarget(d,u,{currentDisplayName:t,originalDisplayName:n}),i.dismiss()},function(e){a.modalLayout.isRequestFailed=!0,a.modalData.currentDisplayName=n,a.handleResponseFailure(e)})},a.close=function(){var e=a.modalData.originalDisplayName;s.sendEventWithTarget(d,t,{newDisplayName:null,originalDisplayName:e}),a.modalData.currentDisplayName=e,c.cancel(a.timeoutValidateDisplayName),a.modalData.displayNameNeedsValidating="",i.dismiss()},a.sendingDNValidation=function(e){a.modalLayout.isValidating=!0,a.timeoutValidateDisplayName=c(function(){o.validateDisplayName(null===p.authenticatedUser||void 0===p.authenticatedUser?void 0:p.authenticatedUser.id,e).then(function(){a.modalLayout.isValidated=!0},function(e){a.modalLayout.isValidated=!1,a.handleResponseFailure(e)}).finally(function(){a.modalLayout.isValidating=!1,c.cancel(a.timeoutValidateDisplayName);var e=a.modalData,n=e.displayNameNeedsValidating,t=e.maxRetryOnMissingValidation,e=e.countOnMissingValidationRetry;console.debug("displayNameNeedsValidating -- ".concat(n)),n&&(e<t?(a.modalData.countOnMissingValidationRetry=e+1,a.sendingDNValidation(n)):a.modalData.countOnMissingValidationRetry=0,a.modalData.displayNameNeedsValidating="")})},0)},a.validateInputChange=function(){a.modalLayout.isRequestFailed=!1,console.debug("making change - ".concat(a.modalData.currentDisplayName," - isValidating - ").concat(a.modalLayout.isValidating," "));var e,n=a.modalData.currentDisplayName;n.length<a.modalLayout.minCharactersForDisplayName?(a.modalLayout.isValidated=!1,e=r.changeDisplayNameResponse.errorMessages,a.modalLayout.displayErrorMsg=e.nameTooShort):a.modalLayout.isValidating?a.modalData.displayNameNeedsValidating=n:a.sendingDNValidation(n)},a.isInputFormInvalidated=function(){return a.modalLayout.isRequestFailed||!a.modalLayout.isValidated}}o.$inject=["$scope","usersService","$uibModalInstance","injectedData","eventStreamService","displayNameLayout","displayNameConstants","$timeout"],t.Z.controller("changeDisplayNameController",o),n.default=o},6980:function(e,n,t){"use strict";t.r(n);var a=t(4395),o=t(1566);function i(t,a){t.changeDisplayName=function(){var e=o.default.changeDisplayNameModal.templateUrl,n={pageData:t.accountContent.userInfo.data},n={animation:!1,templateUrl:e,controller:o.default.changeDisplayNameModal.controllerName,resolve:{injectedData:n}};a.open(n).result.then(function(){},function(){})}}i.$inject=["$scope","$uibModal"],a.Z.controller("displayNameController",i),n.default=i},1273:function(e,n,t){"use strict";t.r(n);var a=t(4395),o=t(7849);function i(n,t,e,a){n.layout={code:"",setupToken:"",qrCodeImage:"",manualEntryKey:"",errorMessage:"",debounce:!1,viewQrCode:!0,authenticatorCodeLength:e.metadata.authenticatorCodeLength},n.canVerify=function(){return!n.layout.errorMessage&&!n.layout.debounce&&n.layout.code&&n.layout.code.length===e.metadata.authenticatorCodeLength},n.clearErrorMessage=function(){n.layout.errorMessage=""},n.dismiss=function(){t.dismiss()},n.onKeyDown=function(e){o.default.digitRegex.test(e.key)||e.originalEvent.preventDefault()},n.toggleQrCode=function(){n.layout.viewQrCode=!n.layout.viewQrCode},n.submit=function(e){n.layout.debounce||e.$valid&&(e.$setPristine(),n.clearErrorMessage(),n.layout.debounce=!0,a.enableVerifyAuthenticator(n.layout.setupToken,n.layout.code).then(function(){t.close(!0)}).catch(function(e){n.layout.errorMessage=e.message,n.layout.debounce=!1}))},a.enableAuthenticator().then(function(e){n.layout.setupToken=e.setupToken,n.layout.manualEntryKey=e.manualEntryKey,n.layout.qrCodeImage=e.qrCodeImageUrl}).catch(function(e){n.layout.errorMessage=e.message})}i.$inject=["$scope","$uibModalInstance","modalData","twoStepVerificationService"],a.Z.controller("enableAuthenticatorModalController",i),n.default=i},8136:function(e,n,t){"use strict";t.r(n);t(957);t=t(4395);function a(n,e,t,a,o,i,s,r,c,l){n.chooseThemes=function(){o.beginSetConsumerThemes(n.themeContent.newThemeType).then(function(){a.triggerHandler(s.updateThemeEvent)},function(){c.open({titleText:l.default.error.title,bodyText:l.default.error.body})})},n.loadAccountInformationMetadata=function(){o.beginGetAccountInformationMetadata().then(function(e){n.data.hideDescriptionInSettings=e.isUserDescriptionEnabled})},n.sendThemeUpdateEvent=function(e,n){i.sendEventWithTarget(i.eventNames.account.updateTheme,s.updateThemeEventContext,{newThemeType:e,oldThemeType:n})},n.data||(n.data={hideDescriptionInSettings:!1},n.loadAccountInformationMetadata());var d={};d[r.notificationTypes.userThemeTypeChangeNotification.themeUpdate]=function(){n.themeContent.oldThemeType!==n.themeContent.newThemeType?(n.sendThemeUpdateEvent(n.themeContent.newThemeType,n.themeContent.oldThemeType),n.themeContent.oldThemeType=n.themeContent.newThemeType):n.getCurrentTheme()},r.listenToNotification(r.realTimeTypes.userThemeTypeChangeNotification,d)}a.$inject=["$scope","$window","$log","$document","accountsService","eventStreamService","accountConstantsResources","realtimeService","modalService","modalConstantsService"],t.Z.controller("personalController",a),n.default=a},8619:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(n,e,t){n.layout={password:"",recoveryCodes:null,recoveryCodesLeft:[],recoveryCodesRight:[],activeRecoveryCodeCount:0,errorMessage:"",loadErrorMessage:"",loading:!0,debounce:!1,confirmSavedCodes:!1},n.canContinue=function(){return n.layout.password&&!n.layout.errorMessage&&!n.layout.debounce},n.clearErrorMessage=function(){n.layout.errorMessage=""},n.dismiss=function(){e.dismiss()},n.close=function(){e.close(!0)},n.formatRecoveryCodes=function(e){return e.join("\n")},n.submit=function(e){n.layout.debounce||e.$valid&&(e.$setPristine(),n.clearErrorMessage(),n.layout.debounce=!0,t.generateRecoveryCodes(n.layout.password).then(function(e){n.layout.recoveryCodes=e,n.layout.recoveryCodesLeft=e.slice(0,e.length/2),n.layout.recoveryCodesRight=e.slice(e.length/2)}).catch(function(e){n.layout.errorMessage=e.message,n.layout.debounce=!1}))},t.getRecoveryCodesStatus().then(function(e){n.layout.activeRecoveryCodeCount=e.activeCount,n.layout.loading=!1}).catch(function(e){n.layout.loadErrorMessage=e.message,n.layout.loading=!1})}a.$inject=["$scope","$uibModalInstance","twoStepVerificationService"],t.Z.controller("recoveryCodesModalController",a),n.default=a},3441:function(e,n,t){"use strict";t.r(n);var d=t(792),a=t(4395),u=t(7849);function o(n,a,o,i,s,t,r){var c=this;c.layout={loading:!1,loadError:""},c.authenticatorDisabledHelp={aTagStart:'<a href="'.concat(u.default.urls.authenticatorHelp,'" target="_blank">'),aTagEnd:"</a>"},c.metadata={},c.mediaTypes=u.default.mediaTypes,c.enabledMediaTypes=[],c.isMediaTypeEnabled=function(e){return c.enabledMediaTypes.includes(e)},c.enableEmailTwoStepVerification=function(){n.enableEmailTwoStepVerification().then(function(){c.isMediaTypeEnabled(u.default.mediaTypes.Email)||c.enabledMediaTypes.push(u.default.mediaTypes.Email)}).catch(function(e){a.open({titleText:o.default.error.title,bodyText:e.message})})},c.enableAuthenticator=function(){r.open({templateUrl:s.templates.modal.enableAuthenticator,controller:s.controllers.modal.enableAuthenticator,resolve:{modalData:{metadata:c.metadata}}}).result.then(function(){c.isMediaTypeEnabled(u.default.mediaTypes.Authenticator)||c.enabledMediaTypes.push(u.default.mediaTypes.Authenticator)}).catch(function(){})},c.toggleTwoStepVerification=function(n,e){var t=c.isMediaTypeEnabled(n);if(d.FormEvents&&(t?i.sendButtonClickEvent(s.events.toggle2SVOff):i.sendButtonClickEvent(s.events.toggle2SVOn)),!c.pinLocked||e)if(t)r.open({templateUrl:s.templates.modal.twoStepSet,controller:s.controllers.modal.twoStepSet,resolve:{modalData:{mediaType:n}}}).result.then(function(){var e=c.enabledMediaTypes.indexOf(n);0<=e&&c.enabledMediaTypes.splice(e,1)}).catch(function(){});else switch(n){case u.default.mediaTypes.Email:c.emailStatus===s.emailStatus.verified?c.enableEmailTwoStepVerification():a.open({titleText:o.emailSet.emailRequiredMessage,bodyText:o.twoStepVerification.missingEmail});break;case u.default.mediaTypes.Authenticator:c.enableAuthenticator()}else c.unlockPin(function(){return c.toggleTwoStepVerification(n,!0)})},c.generateRecoveryCodes=function(){r.open({templateUrl:s.templates.modal.recoveryCodes,controller:s.controllers.modal.recoveryCodes}).result.then(function(){}).catch(function(){})};function l(){c.layout.loadError=t.get("Response.GeneralError"),c.layout.loading=!1}c.$onInit=function(){c.layout.loading=!0,n.getMetadata().then(function(e){(c.metadata=e).twoStepVerificationEnabled?n.getTwoStepVerificationConfiguration().then(function(e){var n=[];e.methods.forEach(function(e){e.enabled&&u.default.mediaTypes[e.mediaType]&&n.push(e.mediaType)}),c.enabledMediaTypes=n,c.layout.loading=!1}).catch(l):(c.layout.loadError=t.get("Response.FeatureDisabled"),c.layout.loading=!1)}).catch(l)}}o.$inject=["twoStepVerificationService","modalService","modalConstantsService","accountsService","accountConstantsResources","languageResource","$uibModal"],a.Z.controller("twoStepVerificationController",o),n.default=o},6490:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e){return{restrict:"A",templateUrl:e.templates.accountPinStatus}}a.$inject=["accountConstantsResources"],t.Z.directive("accountPinStatus",a),n.default=a},6329:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(a,o,e){return{restrict:"A",templateUrl:a.templates.accountTransactions,scope:{paymentHistoryUrl:"@"},link:function(n){function t(e){return{paymentDate:e.paymentDate,amount:e.money.Amount,currencySymbol:e.money.Currency.CurrencySymbol,product:e.products.map(function(e){return e.name}).toString(),paymentProvider:function(e,n){if(n)return a.paymentProviderTypeToClass[n];if(e)return a.paymentProviderTypeToClass[e]||e.charAt(0).toLowerCase()+e.slice(1)}(e.paymentProviderType,e.creditCardType),cardNumber:(e=e.cardNumber)?e.substr(e.length-4):""}}n.isDataReady=!1,n.isLoadMoreEnabled=!1,n.payments=[],n.errorMsg=o.billingHistory.historyError,n.infoMsg=o.billingHistory.noHistory,n.infoSectionCssClass="section-content-off",n.paymentPager=e.createPager({sortOrder:e.sortOrder.Desc,pageSize:a.paymentsPerPage,loadPageSize:a.maxPaymentsLoaded,getRequestUrl:function(){return n.paymentHistoryUrl},getCacheKeyParameters:function(){return{}},loadSuccess:function(e){n.payments=n.payments.concat(e.map(t)),n.payments.length<=0?(n.isDataReady=!1,n.infoMsg=o.billingHistory.noHistory,n.infoSectionCssClass="container-empty"):(n.isDataReady=!0,n.isLoadMoreEnabled=n.paymentPager.hasNextPage())},loadError:function(){var e=getErrorsFromResponseMethods();n.errorMsg=e?e.message:o.billingHistory.historyError}}),n.loadNextPage=function(){n.paymentPager.canLoadNextPage()&&n.paymentPager.loadNextPage()},n.paymentHistoryUrl&&(n.paymentPager.setPagingParameter("index",0),n.paymentPager.loadFirstPage())}}}a.$inject=["accountConstantsResources","commonConstantsService","cursorPaginationService"],t.Z.directive("accountTransactions",a),n.default=a},7034:function(e,n,t){"use strict";function a(){return{restrict:"A",link:function(e,n,t){e.accountData=e.accountData||{stateProperties:{}},e.accountData.stateProperties={cancelRenewalUrl:t.cancelrenewalurl,upgradeMemberShipUrl:t.upgrademembershipurl,isRobloxCreditEnabled:t.isRobloxCreditEnabled,paymentHistoryUrl:t.paymenthistoryurl,isPaymentHistoryEnabled:t.isPaymentHistoryEnabled,hideMobileTabList:"true"===t.hidemobiletablist,buyRobuxUrl:t.buyrobuxurl,isTwoStepToggleEnabled:t.isTwoStepToggleEnabled,inApp:"true"===t.inApp,isPersonalSettingRefactorEnabled:"true"===t.isCountryLocaleRefactorEnabled,defaultThemeType:t.defaultThemeType,isMyAccountSectionHeaderHidden:"true"===t.isMyAccountSectionHeaderHidden}}}}t.r(n),t(4395).Z.directive("accountStateProperties",a),n.default=a},4693:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(t,r){return{restrict:"A",require:"ngModel",link:function(i,e,n,s){i.usernameValidationRequestNum=0,i.onChange=function(){var o=++i.usernameValidationRequestNum,e="",n=!1;""===i.user.username||angular.isUndefined(i.user.username)?(n=!0,e=r.changeUsername.error.notProvided):""!==(e=Roblox.SignupFormValidatorGeneric.getInvalidUsernameMessage(i.user.username))&&(n=!0),s.$setValidity("validusername",!n),n?s.$usernameMessage=e:(n={url:(s.$usernameMessage="").concat(Roblox.EnvironmentUrls.authApi,"/v1/usernames/validate")},e={username:i.user.username,context:"UsernameChange"},t.httpGet(n,e).then(function(e){var n,t,a;o===i.usernameValidationRequestNum&&(t=n=!0,a="",1===e.code&&(n=!1,a=r.changeUsername.error.notAvailable),2===e.code&&(t=!1,a=r.changeUsername.error.notAllowed),s.$setValidity("unique",n),s.$setValidity("moderated",t),s.$invalid?""!==a&&(s.$usernameMessage=a):s.$usernameMessage="")}))}}}}a.$inject=["httpService","modalConstantsService"],t.Z.directive("accountValidUsername",a),n.default=a},9722:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e){return{restrict:"A",scope:!0,templateUrl:e.templates.userAccountBase}}a.$inject=["accountConstantsResources"],t.Z.directive("userAccountBase",a),n.default=a},5294:function(e,n,t){"use strict";t.r(n);var g=t(792),p=t(957),t=t(4395);function a(r,e,s,n,t,a,o){function c(e,n,t,a){var o,i={url:e,withCredentials:!0};switch(t){case s.methods.get:return i.noCache=!a,s.httpGet(i,n);case s.methods.post:return i.headers={"Content-Type":"application/x-www-form-urlencoded"},null!=n&&(o=$.param(n)),s.httpPost(i,o);case s.methods.patch:return i.headers={"Content-Type":"application/x-www-form-urlencoded"},null!=n&&(o=$.param(n)),s.httpPatch(i,o);case s.methods.delete:return s.httpDelete(i,n)}}var l={getAccountInfoUrl:"/my/settings/json",accountSignoutUrl:"/authentication/signoutfromallsessionsandreauthenticate",accountAskParentToVerifyAge:"/my/account/AskParentVerifyAge",getAllowedDestinationTypes:"/account/settings/allowed-notification-destinations",getAccountSettingsGroups:"/account/settings/settings-groups",getAccountSubscriptionUrl:"".concat(g.EnvironmentUrls.premiumFeaturesApi,"/v1/users/{userid}/subscriptions"),accountAppChatPrivacy:"/account/settings/app-chat-privacy",accountGameChatPrivacy:"/account/settings/game-chat-privacy",accountPrivateMessagePrivacy:"/account/settings/private-message-privacy",accountPrivateServerInvitePrivacy:"/account/settings/private-server-invite-privacy",accountFollowMePrivacy:"/account/settings/follow-me-privacy",accountAccountRestrictions:"/account/settings/account-restrictions",accountCountry:"/account/settings/account-country",accountPhone:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/phone"),accountPhoneDelete:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/phone/delete"),accountResendPhoneCode:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/phone/resend"),accountVerifyPhone:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/phone/verify"),getCountryListUrl:"/account/settings/countries",accountDescription:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/description"),accountBirthdate:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/birthdate"),accountGender:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/gender"),accountPromotionChannels:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/promotion-channels"),accountInformationMetadata:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/metadata"),accountChangeUsernameV2:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/username"),authenticationMetadata:"".concat(g.EnvironmentUrls.accountInformationApi,"/v1/metadata"),accountSettingsPolicy:"".concat(g.EnvironmentUrls.universalAppConfigurationApi,"/v1/behaviors/account-settings-ui/content")},i=o.createErrorMapper({0:a.get("Message.Error.System"),1:a.get("Message.Error.NoPin"),2:a.get("Message.Error.AccountLocked"),3:a.get("Message.Error.TooManyRequests"),4:a.get("Message.Error.IncorrectPin"),5:a.get("Message.Error.AccountHasPin"),6:a.get("Message.Error.NoVerifiedEmail"),7:a.get("Message.Error.InvalidPinFormat")},a.get("Message.Error.Default")),d=o.createErrorMapper({0:a.get("Response.GeneralError"),1:a.get("Response.FeatureDisabled"),2:a.get("Response.InvalidPhoneTryAgain"),3:a.get("Response.NumberAlreadyAssociated"),4:a.get("Response.PinRequired"),5:a.get("Response.IncorrectPasswordTryAgain"),6:a.get("Response.IncorrectCodeTooManyTimes"),7:a.get("Response.FeatureDisabled"),8:a.get("Respones.InvalidCodePhone")},a.get("Message.Error.Default")),u=o.createErrorMapper({0:a.get("Message.Error.Email.Unknown"),1:a.get("Message.Error.Email.PinLocked"),2:a.get("Message.Error.Email.FeatureDisabled"),3:a.get("Message.Error.Email.TooManyAccounts"),4:a.get("Message.Error.Email.SameEmail"),5:a.get("Message.Error.Email.AlreadyVerified"),6:a.get("Message.Error.Email.TooManyUpdates"),7:a.get("Message.Error.Email.TooManyVerify"),8:a.get("Message.Error.Email.IncorrectPassword"),9:a.get("Message.Error.Email.InvalidEmail"),10:a.get("Message.Error.Email.NoEmailAssociated")},a.get("Message.Error.Default"));return{setNotificationSettingsUrls:function(e){l.getNotificationSettings="".concat(e,"/v2/notifications/get-settings"),l.updateNotificationBandSettings="".concat(e,"/v2/notifications/update-notification-settings"),l.removeDestinationTypeOptOut="".concat(e,"/v2/notifications/receiver-destination-types/allow"),l.addDestinationTypeOptOut="".concat(e,"/v2/notifications/receiver-destination-types/opt-out")},setXboxConnectionUrls:function(e){l.xboxConnection="".concat(e,"/v1/xbox/connection"),l.disconnectXbox="".concat(e,"/v1/xbox/disconnect")},setAccountSettingsApiUrl:function(e){l.accountTradePrivacyUrl="".concat(e,"/v1/trade-privacy"),l.accountTradeValueUrl="".concat(e,"/v1/trade-value"),l.accountInventoryPrivacyUrl="".concat(e,"/v1/inventory-privacy"),l.contentRatingsUrl="".concat(e,"/v1/content-restriction"),l.getOrUpdateEmailUrl="".concat(e,"/v1/email"),l.sendVerifyEmailUrl="".concat(e,"/v1/email/verify"),l.accountSettingsApiDomain=e,l.accountConsumerThemesUrl="".concat(e,"/v1/themes/user"),l.accountAvailableThemesUrl="".concat(e,"/v1/themes/types"),l.updatePromotionChannelsUrl="".concat(e,"/v1/promotion-channels")},setAccountInformationUrl:function(e){l.accountDescription="".concat(e,"/v1/description"),l.accountBirthdate="".concat(e,"/v1/birthdate"),l.accountGender="".concat(e,"/v1/gender"),l.accountPromotionChannels="".concat(e,"/v1/promotion-channels"),l.accountInformationMetadata="".concat(e,"/v1/metadata"),l.accountPhone="".concat(e,"/v1/phone"),l.accountPhoneDelete="".concat(e,"/v1/phone/delete"),l.accountResendPhoneCode="".concat(e,"/v1/phone/resend"),l.accountVerifyPhone="".concat(e,"/v1/phone/verify")},setAuthDomainUrl:function(e){l.accountPinUrl="".concat(e,"/v1/account/pin"),l.accountPinLockUrl="".concat(e,"/v1/account/pin/lock"),l.accountPinUnlockUrl="".concat(e,"/v1/account/pin/unlock"),l.connectedSocialAuthUrl="".concat(e,"/v1/social/connected-providers"),l.socialAuthDomainUrl="".concat(e,"/v1/social"),l.accountChangePasswordUrl="".concat(e,"/v2/user/passwords/change"),l.authenticationMetadata="".concat(e,"/v1/metadata"),l.accountChangeUsernameV2="".concat(e,"/v1/username")},setUniversalAppConfigurationUrl:function(e){l.accountSettingsPolicy="".concat(e,"/v1/behaviors/account-settings-ui/content")},templateUrls:{passwordChangedUrl:"user-account-password-changed.html",passwordErrorUrl:"user-account-password-error.html",accountPhoneChangedUrl:"user-account-phone-changed.html",accountVerifySmsSentUrl:"user-account-verify-sms-sent.html",accountEmailChangedUrl:"user-account-email-changed.html",accountVerifySentUrl:"user-account-verify-sent.html",accountParentNeedNeedEmailUrl:"user-account-parent-need-email.html",accountAgeChangeConfirmationUrl:"user-account-age-change-confirmation.html",account2SvEnabledUrl:"user-account-2sv-enabled.html",account2SvDisableConfirmationUrl:"user-account-2sv-disable-confirmation.html"},populateAccount:t,beginGetCountryList:function(){var e=l.getCountryListUrl;return c(e,void 0,"GET")},beginGetAccountInfo:function(){var e=l.getAccountInfoUrl;return c(e,void 0,"GET")},beginGetAccountSubscription:function(){var e=l.getAccountSubscriptionUrl.replace("{userid}",p.authenticatedUser.id);return c(e,void 0,"GET")},beginGetAllowedNotificationDestinationTypes:function(){var e=l.getAllowedDestinationTypes;return c(e,void 0,"GET")},beginAccountSignOut:function(){var e=l.accountSignoutUrl,n={__RequestVerificationToken:angular.element("[name=__RequestVerificationToken]").val()};return c(e,n,"POST")},beginAccountChangePassword:function(e){var n=l.accountChangePasswordUrl,e={currentPassword:e.currentPassword,newPassword:e.newPassword};return c(n,e,"POST")},beginAccountAddEmailAddress:function(e){var n=l.getOrUpdateEmailUrl,e={emailAddress:e.emailAddress,password:e.password};return c(n,e,"POST")},beginAccountVerifyEmailAddress:function(){var e=l.sendVerifyEmailUrl;return c(e,null,"POST")},beginGetEmail:function(){var e=l.getOrUpdateEmailUrl;return c(e,null,"GET")},beginGetPhone:function(){var e=l.accountPhone;return c(e,null,"GET")},beginAccountUpdatePhone:function(e){var n=l.accountPhone,e={countryCode:e.countryCode,prefix:e.prefix,phone:e.phone,password:e.password};return c(n,e,"POST")},beginAccountDeletePhone:function(e){var n=l.accountPhoneDelete,e={password:e.password};return c(n,e,"POST")},beginAccountResendPhoneCode:function(){var e=l.accountResendPhoneCode;return c(e,null,"POST")},beginAccountVerifyPhone:function(e){var n=l.accountVerifyPhone,e={code:e.code};return c(n,e,"POST")},beginAccountUnblockUser:function(e){e="".concat(g.EnvironmentUrls.accountSettingsApi,"/v1/users/").concat(e,"/unblock");return c(e,null,"POST")},beginAccountAskParentToVerifyAge:function(){var e=l.accountAskParentToVerifyAge;return c(e,null,"POST")},beginGetAuthenticationMetadata:function(){var e=l.authenticationMetadata;return c(e,null,"GET",!0)},beginAccountChangeUsernameV2:function(e){var n=l.accountChangeUsernameV2,e={username:e.username,password:e.password};return c(n,e,"POST")},beginGetNotificationSettings:function(){var e=l.getNotificationSettings;return c(e,null,"GET",!0)},beginUpdateNotificationSettings:function(e,n,t){var a=[],o=l.updateNotificationBandSettings;0<e.length&&a.push(c(o,{updatedSettings:e},"POST",!0));var i=l.removeDestinationTypeOptOut;angular.forEach(t,function(e){a.push(c(i,{destinationType:e},"POST",!0))});var s=l.addDestinationTypeOptOut;return angular.forEach(n,function(e){a.push(c(s,{destinationType:e},"POST",!0))}),r.all(a)},beginGetSocialConnected:function(){var e=l.connectedSocialAuthUrl;return c(e,null,"GET",!0)},beginUpdateSocialDisconnect:function(e,n){var t="".concat(l.socialAuthDomainUrl,"/").concat(e,"/disconnect"),e={};return n&&(e.password=n),c(t,e,"POST")},beginGetXboxConnection:function(){var e=l.xboxConnection;return c(e,null,"GET",!0)},beginDisconnectXbox:function(){var e=l.disconnectXbox;return c(e,null,"POST")},beginProcessErrorMessage:function(e){var n=e||"Something went wrong, please try again later.";return e&&e.errors&&e.errors[0]&&e.errors[0].message&&(n=e.errors[0].message),n},getPinErrorMessageFromCode:function(e){return i.getErrorMessageFromResponse(e)},getEmailErrorMessageFromCode:function(e){return u.getErrorMessageFromResponse(e)},getPhoneErrorMessageFromCode:function(e){return d.getErrorMessageFromResponse(e)},beginGetAccountInformationMetadata:function(){var e=l.accountInformationMetadata;return c(e,null,"GET",!0)},beginGetDescription:function(){var e=l.accountDescription;return c(e,null,"GET",!0)},beginUpdateDescription:function(e){var n=l.accountDescription;return c(n,{description:e},"POST")},beginGetBirthdate:function(){var e=l.accountBirthdate;return c(e,null,"GET",!0)},beginUpdateBirthdate:function(e){var n=l.accountBirthdate,e={birthDay:e.birthDay,birthMonth:e.birthMonth,birthYear:e.birthYear};return c(n,e,"POST")},beginGetGender:function(){var e=l.accountGender;return c(e,null,"GET",!0)},beginUpdateGender:function(e){var n=l.accountGender;return c(n,{gender:e},"POST")},beginGetCountry:function(){var e=l.accountCountry;return c(e,null,"GET",!0)},beginUpdateCountry:function(e){var n=l.accountCountry,e={countryId:e.country.countryId};return c(n,e,"POST")},beginGetConsumerThemes:function(){var e=l.accountConsumerThemesUrl;return c(e,null,"GET",!0)},beginSetConsumerThemes:function(e){var n=l.accountConsumerThemesUrl;return c(n,{themeType:e},"PATCH")},beginGetAvailableThemeTypes:function(){var e=l.accountAvailableThemesUrl;return c(e,null,"GET",!0)},beginGetPromotionChannels:function(){var e=l.accountPromotionChannels;return c(e,null,"GET",!0)},beginUpdatePromotionChannels:function(e){var n=l.accountPromotionChannels,e={facebook:e.FacebookUrl,twitter:e.TwitterUrl,youtube:e.YouTubeUrl,twitch:e.TwitchUrl,promotionChannelsVisibilityPrivacy:e.SocialNetworksVisibilityPrivacy};return c(n,e,"POST")},beginGetContactSettings:function(){var e=l.accountAppChatPrivacy,n=l.accountGameChatPrivacy,t=l.accountPrivateMessagePrivacy,t={appChatPrivacy:c(e,null,"GET"),gameChatPrivacy:c(n,null,"GET"),privateMessagePrivacy:c(t,null,"GET")};return r.all(t).then(function(e){var n={};return n.appChatPrivacy=e.appChatPrivacy.AppChatPrivacy,n.gameChatPrivacy=e.gameChatPrivacy.GameChatPrivacy,n.privateMessagePrivacy=e.privateMessagePrivacy.PrivateMessagePrivacy,n})},beginGetAppChatPrivacy:function(){var e=l.accountAppChatPrivacy;return c(e,null,"GET",!0)},beginUpdateAppChatPrivacy:function(e){var n=l.accountAppChatPrivacy,e={AppChatPrivacy:e.AppChatPrivacy};return c(n,e,"POST")},beginGetGameChatPrivacy:function(){var e=l.accountGameChatPrivacy;return c(e,null,"GET",!0)},beginUpdateGameChatPrivacy:function(e){var n=l.accountGameChatPrivacy,e={GameChatPrivacy:e.GameChatPrivacy};return c(n,e,"POST")},beginGetPrivateMessagePrivacy:function(){var e=l.accountPrivateMessagePrivacy;return c(e,null,"GET",!0)},beginUpdatePrivateMessagePrivacy:function(e){var n=l.accountPrivateMessagePrivacy,e={PrivateMessagePrivacy:e.PrivateMessagePrivacy};return c(n,e,"POST")},beginGetPrivateServerInvitePrivacy:function(){var e=l.accountPrivateServerInvitePrivacy;return c(e,null,"GET",!0)},beginUpdatePrivateServerInvitePrivacy:function(e){var n=l.accountPrivateServerInvitePrivacy,e={PrivateServerInvitePrivacy:e.privateServerInvitePrivacy};return c(n,e,"POST")},beginGetFollowMePrivacy:function(){var e=l.accountFollowMePrivacy;return c(e,null,"GET",!0)},beginUpdateFollowMePrivacy:function(e){var n=l.accountFollowMePrivacy,e={FollowMePrivacy:e.followMePrivacy};return c(n,e,"POST")},beginGetInventoryPrivacy:function(){var e=l.accountInventoryPrivacyUrl;return c(e,null,"GET",!0)},beginUpdateInventoryPrivacy:function(e){var n=l.accountInventoryPrivacyUrl,e={inventoryPrivacy:e.inventoryPrivacy};return c(n,e,"POST")},getUpdateTradePrivacyMessageWhenConflict:function(){return a.get("Response.Dialog.UpdateTradeSetting")},beginGetTradePrivacy:function(){var e=l.accountTradePrivacyUrl;return c(e,null,"GET",!0)},beginUpdateTradePrivacy:function(e){var n=l.accountTradePrivacyUrl,e={tradePrivacy:e.tradePrivacy};return c(n,e,"POST")},getUpdateInventoryPrivacyMessageWhenConflict:function(){return a.get("Response.Dialog.UpdateInventorySetting")},beginGetTradeValue:function(){var e=l.accountTradeValueUrl;return c(e,null,"GET",!0)},beginUpdateTradeValue:function(e){var n=l.accountTradeValueUrl,e={tradeValue:e.tradeValue};return c(n,e,"POST")},beginGetAccountPinSetting:function(){var e=l.accountPinUrl;return c(e,null,"GET",!0)},beginCreateAccountPinSetting:function(e){var n=l.accountPinUrl;return c(n,{pin:e},"POST",!0)},beginDeleteAccountPinSetting:function(){var e=l.accountPinUrl;return c(e,null,"DELETE",!0)},beginUnlockAccountPinSetting:function(e){var n=l.accountPinUnlockUrl;return c(n,{pin:e},"POST",!0)},beginLockAccountPinSetting:function(){var e=l.accountPinLockUrl;return c(e,null,"POST",!0)},beginGetAccountRestrictions:function(){var e=l.accountAccountRestrictions;return c(e,null,"GET",!0)},beginUpdateAccountRestrictions:function(e){var n=l.accountAccountRestrictions;return c(n,{isEnabled:e},"POST",!0)},beginGetContentRatings:function(){var e=l.contentRatingsUrl;return c(e,null,"GET",!0)},beginUpdateContentRatings:function(e){var n=l.contentRatingsUrl,e={contentRestrictionLevel:e.ContentRatings};return c(n,e,"POST")},getPaymentRecords:function(e){return c(e,null,"GET",!0)},beginGetAccountSettingsPolicy:function(){var e=l.accountSettingsPolicy;return c(e,null,"GET",!0)},getGroupsAndPolicy:function(){var e={tabsListing:c(l.getAccountSettingsGroups,void 0,"GET"),getPolicy:c(l.accountSettingsPolicy,null,"GET",!0)};return r.all(e)},sendButtonClickEvent:function(e){g.EventStream&&g.EventStream.SendEvent(n.events.formInteractionEventType,n.events.settingsCtx,{btn:e})}}}a.$inject=["$q","$log","httpService","accountConstantsResources","formFieldsMappingService","languageResource","errorMessageService"],t.Z.factory("accountsService",a),n.default=a},7500:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e,n){return{validation:{invalid:{socialMedia:n.get("Response.SocialMedia.ValidationError")}},label:{country:n.get("Label.Country"),twoStepEmail:n.get("Label.TwoStepEmail"),changeUsername:n.get("Label.ChangeYourUsername"),useDeviceLanguage:n.get("Label.UseDeviceLanguage")},tabs:{info:n.get("Heading.Tab.AccountInfo"),security:n.get("Heading.Tab.Security"),privacy:n.get("Heading.Tab.Privacy"),parentalControls:n.get("Heading.Tab.ParentalControls"),billing:n.get("Heading.Tab.Billing"),notifications:n.get("Heading.Tab.Notifications"),fastTrack:n.get("Heading.Tab.FastTrack")},billingHistory:{noHistory:n.get("Label.BillingHistoryNoTransactions"),historyError:n.get("Label.BillingHistoryGeneralErrors")}}}a.$inject=["$log","languageResource"],t.Z.factory("commonConstantsService",a),n.default=a},9873:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e,n){return{changeDisplayNameLayout:{isRequestFailed:!1,isValidated:!0,isValidating:!1,modalTitle:n.get("Label.ConfigureDN"),modalCancel:n.get("Action.CancelDN"),modalSave:n.get("Action.SaveDN"),modalDescriptionWarning:n.get("Description.WarningFrequencyOfChanges"),displayErrorMsg:"",maxCharactersForDisplayName:20,minCharactersForDisplayName:3},changeDisplayNameResponse:{errorMessages:{nameContainPII:n.get("ErrorMessage.NameContainPII"),nameHasChanged:n.get("ErrorMessage.NameHasChanged"),nameInappropriate:n.get("ErrorMessage.NameInappropriate"),nameTooLong:n.get("ErrorMessage.NameTooLong"),nameTooShort:n.get("ErrorMessage.NameTooShort"),nameUnsupportedChars:n.get("ErrorMessage.NameUnsupportedChars")},errorCodeMapMsg:{1:"nameTooShort",2:"nameTooLong",3:"nameUnsupportedChars",4:"nameInappropriate",5:"nameHasChanged"}}}}a.$inject=["$log","languageResource"],t.Z.factory("displayNameLayout",a),n.default=a},906:function(e,n,t){"use strict";t.r(n);var i=t(792),t=t(4395);function a(e,n){var t=i.Intl&&new i.Intl,a=n.get,o={everyone:a("Label.DropDown.Everyone"),followers:a("Label.DropDown.Followers"),following:a("Label.DropDown.Following"),friends:a("Label.DropDown.Friends"),noOne:a("Label.DropDown.NoOne"),default:a("Label.DropDown.Default"),custom:a("Label.DropDown.Custom"),off:a("Label.DropDown.Off"),none:a("Label.DropDown.None"),high:a("Label.DropDown.High"),medium:a("Label.DropDown.Medium"),low:a("Label.DropDown.Low"),noRestrictions:a("Label.DropDown.NoRestrictions"),teen:a("Label.DropDown.Teen"),preTeen:a("Label.DropDown.PreTeen"),child:a("Label.DropDown.Child"),themes:{dark:a("Label.DarkTheme"),classic:a("Label.ClassicTheme"),light:a("Label.LightTheme")}};return{years:[],days:[],months:n.intl.getMonthsList(),monthsI18n:t?t.getMonthsI18n("short",a("Label.Month")):n.intl.getMonthsList(),privacy:[{name:o.everyone,value:"All"},{name:o.followers,value:"Followers"},{name:o.following,value:"Following"},{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],visibility:[{name:o.everyone,value:"AllUsers"},{name:o.followers,value:"FriendsFollowingAndFollowers"},{name:o.following,value:"FriendsAndFollowing"},{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],under13Privacy:[{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],under13JoinPrivacy:[{name:o.following,value:"Following"},{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],contactSettingsConfiguration:[{name:o.default,value:"Default"},{name:o.custom,value:"Custom"},{name:o.off,value:"Off"}],messaging:[{name:o.everyone,value:"All"},{name:o.followers,value:"Followers"},{name:o.following,value:"Following"},{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],appChat:[{name:o.friends,value:"Friends"},{name:o.noOne,value:"NoOne"}],gameChat:[{name:o.everyone,value:"AllUsers"},{name:o.noOne,value:"NoOne"}],tradeValue:[{name:o.none,value:"None"},{name:o.low,value:"Low"},{name:o.medium,value:"Medium"},{name:o.high,value:"High"}],contentRatings:[{name:o.noRestrictions,value:"NoRestrictions"},{name:o.teen,value:"Teen"},{name:o.preTeen,value:"PreTeen"},{name:o.child,value:"Child"}],themes:[{name:o.themes.dark,value:"Dark"},{name:o.themes.light,value:"Light"}],gender:{MALE:"2",FEMALE:"3"}}}a.$inject=["$log","languageResource"],t.Z.factory("formFieldsMappingService",a),n.default=a},5809:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e,n){var t=e,n=n.createErrorMapper({4:t.get("Response.InvalidPassword")},t.get("Message.Error.Default"));return{default:{positiveBtnText:t.get("Action.Dialog.Yes"),negativeBtnText:t.get("Action.Dialog.No"),submitButtonText:t.get("Action.Dialog.Success"),success:{title:t.get("Heading.Dialog.DefaultSuccess"),body:t.get("Response.Dialog.DefaultSuccessMessage")},error:{title:t.get("Heading.Dialog.DefaultError"),body:t.get("Response.Dialog.DefaultErrorMessage")},errorMessage:t.get("Response.Dialog.DefaultErrorTitle")},secureSignOut:{success:{body:t.get("Response.Dialog.SignoutSessionsConfirmation")},error:{body:t.get("Response.Dialog.SignoutSessionFailed")}},disconnectXbox:{error:{body:t.get("Response.Dialog.DisconnectXBoxError")}},updateNotificationSettings:{error:{body:t.get("Response.Dialog.UpdateNotificationSettingsError")}},twoStepVerification:{success:{title:t.get("Response.Dialog.TwoStepSuccessTitle"),titleIcon:"icon-like",body:t.get("Response.Dialog.TwoStepSucessBody")},disabling:{title:t.get("Response.Dialog.Warning"),body:t.get("Response.Dialog.TwoStepDisableWarning")},missingEmail:t.get("Description.Dialog.MissingEmailTwoStepVerification"),unverifiedEmail:t.get("Description.Dialog.UnverifiedEmailTwoStepVerification")},birthdayChange:{default:{title:t.get("Response.Dialog.Warning"),body:t.get("Response.Dialog.BirthdayChangeDefaultWarning")},withSocialSignOn:{body:t.get("Response.Dialog.BirthdayChangeSocialWarning"),positiveBtnText:t.get("Action.SuccessDialogButtonText"),negativeBtnText:t.get("Action.Dialog.Cancel")},needPassword:{title:t.get("Response.Dialog.BirthdayChangePasswordTitle"),body:t.get("Response.Dialog.BirthdayChangePasswordBody")}},emailSet:{emailRequiredMessage:t.get("Label.Dialog.EmailRequired"),emailSetSuccessMessage:t.get("Label.Dialog.EmailAddressChanged"),invalidEmailAddressMessage:t.get("Response.Dialog.InvalidEmailAddress"),addEmailU13Label:t.get("Label.Dialog.AddEmailUnder13"),addEmailO13Label:t.get("Label.Dialog.AddEmailOver13"),addEmailLabel:t.get("Action.Dialog.AddEmail"),changeEmailU13Label:t.get("Label.Dialog.ChangeEmailUnder13"),changeEmailO13Label:t.get("Label.Dialog.ChangeEmailOver13"),changeEmailLabel:t.get("Action.Dialog.ChangeEmail")},phoneSet:{addActionLabel:t.get("Action.Dialog.AddPhone"),editActionLabel:t.get("Action.Dialog.EditPhonePrimary"),updateSuccessMessage:t.get("Response.NotificationBar.PhoneVerifyConfirmation"),deleteSuccessMessage:t.get("Response.NotificationBar.PhoneRemovedConfirmation"),countryListErrorMessage:t.get("Response.Dialog.CountryListError")},passwordSet:{changePasswordMessage:t.get("Heading.Dialog.ChangePassword"),addPasswordMessage:t.get("Heading.Dialog.AddPassword"),matchErrorMessage:t.get("Response.Dialog.ChangePasswordNoMatch"),changePasswordSuccess:t.get("Heading.Dialog.ChangePasswordSuccess")},passwordChange:{tooManyRequests:t.get("MessageTooManyAttemptsError"),invalidPassword:t.get("Response.Dialog.PasswordRulesError"),invalidCurrentPassword:t.get("Response.Dialog.ChangePasswordIncorrectPassword"),pinLocked:t.get("MessagePinLockedError")},pinCreate:{matchErrorMessage:t.get("Response.Dialog.PinCreateMismatch"),missingEmail:t.get("Description.Dialog.MissingEmailAccountPin"),unverifiedEmail:t.get("Description.Dialog.UnverifiedEmailAccountPin")},changeUsername:{missingEmail:t.get("Description.Dialog.MissingEmailUsername"),unverifiedEmail:t.get("Description.Dialog.UnverifiedEmailUsername"),changeUsernameBuy:t.get("Action.Dialog.ChangeUsernameBuy"),changeUsernameMessage:function(e){return t.get("Description.Dialog.InsufficientFundsWarning",e)},changeUsernameTitle:t.get("Heading.Dialog.InsufficientFunds"),error:{notProvided:t.get("Response.Dialog.ChangeUsernameNoInput"),notAvailable:t.get("Response.Dialog.ChangeUsernameNotAvailable"),notAllowed:t.get("Response.Dialog.ChangeUsernameNotAllowed")}},socialDisconnect:{unlinkTitle:function(e){return t.get("Heading.Unlink",{provider:e})},getMessageFromError:n.getErrorMessageFromResponse}}}a.$inject=["languageResource","errorMessageService"],t.Z.factory("modalConstantsService",a),n.default=a},816:function(e,n,t){"use strict";t.r(n);t=t(4395);function a(e,n){return{notificationSourceTypeMapping:{FriendRequestReceived:n.get("Label.Notifications.FriendRequestReceived"),FriendRequestAccepted:n.get("Label.Notifications.FriendRequestAccepted"),PartyInviteReceived:n.get("Label.Notifications.PartyInvited"),PartyMemberJoined:n.get("Label.Notifications.PartyJoined"),ChatNewMessage:n.get("Label.Notifications.Chat"),PrivateMessageReceived:n.get("Label.Notifications.PrivateMessage"),UserAddedToPrivateServerWhiteList:n.get("Label.Notifications.AddedToServer"),ConversationUniverseChanged:n.get("Label.Notifications.ConversationUniverseChanged"),TeamCreateInvite:n.get("Label.Notifications.TeamCreateInvite"),GameUpdate:n.get("Label.Notifications.GameUpdate"),DeveloperMetricsAvailable:n.get("Label.Notifications.DeveloperMetricsAvailable")},destinationTypes:["NotificationStream","DesktopPush","MobilePush"],modalText:{success:{title:n.get("Heading.Dialog.DefaultSuccess"),body:n.get("Response.Dialog.DefaultSuccessMessage")},error:{title:n.get("Heading.Dialog.DefaultError"),body:n.get("Response.Dialog.UpdateNotificationSettingsError")}},receiverDestinationTypeMapping:[{destinationType:"NotificationStream",friendlyTitle:n.get("Heading.Notifications.Stream"),blurbText:n.get("Description.NotificationStream1"),actionWhenText:n.get("Heading.Notifications.ActionWhen"),actionDescriptionText:n.get("Description.NotificationStream2"),areSourcesShown:!0,isToggleable:function(){return!1}},{destinationType:"DesktopPush",friendlyTitle:n.get("Heading.Notifications.DesktopPush"),blurbText:n.get("Description.DesktopPush1"),secondaryBlurbText:n.get("Description.DesktopPush2"),actionWhenText:n.get("Heading.Notifications.ActionWhen"),actionDescriptionText:n.get("Description.DesktopPush3")},{destinationType:"MobilePush",friendlyTitle:n.get("Heading.Notifications.MobilePush"),blurbText:n.get("Description.MobilePush1"),actionWhenText:"",areSourcesShown:!0,actionDescriptionText:n.get("Description.MobilePush2")}]}}a.$inject=["$log","languageResource"],t.Z.factory("notificationConstantsService",a),n.default=a},7181:function(e,n,t){"use strict";t.r(n);var r=t(792),c=t(957),a=t(4395),l=t(7849);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(n,i,e,t){var a=null,s=e.createErrorMapper((o(e={},l.default.errorCodes.internal.tooManyRequests,t.get("Message.Error.TooManyRequests")),o(e,l.default.errorCodes.internal.invalidEmail,t.get("Message.Error.NoVerifiedEmail")),o(e,l.default.errorCodes.internal.invalidPassword,t.get("Message.Error.Email.IncorrectPassword")),o(e,l.default.errorCodes.internal.featureDisabled,t.get("Response.FeatureDisabled")),o(e,l.default.errorCodes.internal.pinLocked,t.get("Message.Error.Email.PinLocked")),o(e,l.default.errorCodes.internal.invalidSetupToken,t.get("Response.Dialog.AuthenticatorSessionExpired")),o(e,l.default.errorCodes.internal.invalidCode,t.get("Response.Dialog.InvalidCodeError")),e),t.get("Message.Error.Default"));return{getMetadata:function(){return n(function(n,t){a?n(a):i.httpGet({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/metadata")}).then(function(e){n(a=e)}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);t({code:e,message:s.getErrorMessage(e)})})})},getTwoStepVerificationConfiguration:function(){return n(function(n,t){i.httpGet({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration")}).then(function(e){n(e)}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);t({code:e,message:s.getErrorMessage(e)})})})},enableEmailTwoStepVerification:function(){return n(function(e,n){i.httpPost({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration/email/enable")}).then(function(){e()}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);n({code:e,message:s.getErrorMessage(e)})})})},enableAuthenticator:function(){return n(function(e,n){i.httpPost({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration/authenticator/enable")}).then(e).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);n({code:e,message:s.getErrorMessage(e)})})})},enableVerifyAuthenticator:function(e,a){return n(function(n,t){i.httpPost({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration/authenticator/enable-verify")},{setupToken:e,code:a}).then(function(){n()}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);e===l.default.errorCodes.internal.alreadyEnabled?n():t({code:e,message:s.getErrorMessage(e)})})})},disableTwoStepVerification:function(a,o){return n(function(e,n){if(o){var t={};switch(a){case l.default.mediaTypes.Email:t.url="".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration/email/disable");break;case l.default.mediaTypes.Authenticator:t.url="".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/configuration/authenticator/disable");break;default:n(l.default.errorCodes.internal.invalidMediaType)}i.httpPost(t,{password:o}).then(function(){e()}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);n({code:e,message:s.getErrorMessage(e)})})}else n(l.default.errorCodes.internal.invalidPassword)})},getRecoveryCodesStatus:function(){return n(function(n,t){i.httpGet({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/recovery-codes")}).then(function(e){n(e)}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);t({code:e,message:s.getErrorMessage(e)})})})},generateRecoveryCodes:function(e){return n(function(n,t){e?i.httpPost({url:"".concat(r.EnvironmentUrls.twoStepVerificationApi,"/v1/users/").concat(c.authenticatedUser.id,"/recovery-codes/regenerate")},{password:e}).then(function(e){n(e.recoveryCodes)}).catch(function(e){e=i.getPrimaryApiErrorCode(e,l.default.errorCodes.api);t({code:e,message:s.getErrorMessage(e)})}):t(l.default.errorCodes.internal.invalidPassword)})}}}i.$inject=["$q","httpService","errorMessageService","languageResource"],a.Z.factory("twoStepVerificationService",i),n.default=i},8514:function(e,n,t){"use strict";t.r(n);var a=t(792),t=t(4395);function o(e,n,t){return{updateDisplayName:function(e,n){e={url:"".concat(a.EnvironmentUrls.usersApi,"/v1/users/").concat(e,"/display-names"),withCredentials:!0},n={newDisplayName:n};return t.httpPatch(e,n)},validateDisplayName:function(e,n){n={url:"".concat(a.EnvironmentUrls.usersApi,"/v1/users/").concat(e,"/display-names/validate?displayName=").concat(n),withCredentials:!0};return t.httpGet(n)}}}o.$inject=["$q","$log","httpService"],t.Z.factory("usersService",o),n.default=o},726:function(e){function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.split("/").pop().replace(".html","")}var n={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,n,a,o){return e.module(n,[]).run(["$templateCache",function(t){a&&a.keys().forEach(function(e){var n=i(s(e));t.put(n,a(e))}),o&&o.keys().forEach(function(e){var n=i(s(e));t.put(n,o(e).replace(/<\/?script[^>]*>/gi,""))})}])}};e.exports=n},7549:function(e){e.exports='<div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.TwoStepVerification\' | translate"></h3> </div> <div class="container-header" ng-if="!$ctrl.layout.loading && !$ctrl.layout.loadError"> <div class="text-description text-new-line" ng-bind="\'Label.TwoStepVerification\' | translate"></div> </div> <div class="container-header" ng-if="$ctrl.layout.loading"> <div class="loading spinner spinner-default"></div> </div> <div class="section-content-off" ng-if="$ctrl.layout.loadError" ng-bind="$ctrl.layout.loadError"></div> <div ng-if="!$ctrl.layout.loading && !$ctrl.layout.loadError"> <div class="section-content notifications-section"> <span id="2sv-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="$ctrl.toggleTwoStepVerification($ctrl.mediaTypes.Email)" ng-class="{\'on\': $ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email) }"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.EmailTwoStepVerificationCodes\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Label.TwoStepPrerequisite\' | translate" ng-hide="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email)"></div> <div class="text-description" ng-bind="\'Description.TwoStepverificationSecondaryEnabled\' | translate: {email: $ctrl.email}" ng-show="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Email)"> </div> </div> </div> <div class="section-content notifications-section" ng-show="$ctrl.metadata.authenticatorEnabled"> <span id="2sv-authenticator-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="$ctrl.toggleTwoStepVerification($ctrl.mediaTypes.Authenticator)" ng-class="{\'on\': $ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator) }"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.AuthenticatorTwoStepVerificationCodes\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Label.AuthenticatorDisabledHelp\' | translate: $ctrl.authenticatorDisabledHelp" ng-hide="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator)"></div> <div class="text-description" ng-bind="\'Label.AuthenticatorHelpText\' | translate" ng-show="$ctrl.isMediaTypeEnabled($ctrl.mediaTypes.Authenticator)"> </div> </div> </div> <div class="section-content notifications-section" ng-show="$ctrl.metadata.authenticatorEnabled"> <button type="button" id="generate-recovery-codes" class="btn-control-sm acct-settings-btn" ng-click="$ctrl.generateRecoveryCodes()" ng-bind="\'Action.Generate\' | translate"></button> <div class="security-2svsetting-label btn-toggle-label"> <div class="btn-toggle-label" ng-bind="\'Label.GenerateRecoveryCodes\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind="\'Label.RecoveryCodesHelpText\' | translate"> </div> </div> </div> </div> </div>'},7986:function(e){e.exports='<div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.Billing\' | translate"></h3> </div> <div class="section-content remove-panel settings-billing-container"> <div class="row"> <div class="col-xs-12 col-sm-9"> <div class="form-group membership-status-container"> <label class="text-label account-settings-label" ng-bind="\'Heading.MembershipStatus\' | translate"></label> <div ng-show="isAnyMembership()"> <p class="membership-premium" ng-if="accountContent.userInfo.data.isPremiumUser" ng-bind="accountContent.userInfo.data.subscriptionTypeName"> </p> </div> <p ng-hide="isAnyMembership()" ng-bind="\'Description.MembershipStatusRobloxPremium\' | translate"> </p> </div> <div class="form-group renew-date-container"> <label class="text-label account-settings-label" ng-show="isAnyMembership()" ng-if="isMembershipRenewal()" ng-bind="\'Label.RenevalDate\' | translate"></label> <label class="text-label account-settings-label" ng-show="isAnyMembership()" ng-if="!isMembershipRenewal()" ng-bind="\'Label.ExpirationDate\' | translate"></label> <p> <span class="text-robux membership-period" ng-show="accountContent.userInfo.data.isPremiumUser"> <span class="membership-days" ng-if="accountContent.userInfo.data.subscriptionRenewal" ng-bind-html="\'Label.RenevalDateMessage\' | translate:{expirationDate: accountContent.userInfo.data.subscriptionRenewal, startSpan: \'<span class=membership-expires>\', endSpan:\'</span>\' }"></span> <span class="membership-days" ng-if="!accountContent.userInfo.data.subscriptionRenewal" ng-bind-html="\'Label.ExpirationDateMessage\' | translate:{expirationDate: accountContent.userInfo.data.subscriptionExpiration, startSpan: \'<span class=membership-expires>\', endSpan:\'</span>\' }"></span> </span> </p> </div> <div class="form-group membership-update-container"> <a id="UpgradeMembership" class="btn-primary-sm acct-upgrade-membership" ng-href="{{accountData.stateProperties.upgradeMemberShipUrl}}" ng-if="!isAnyMembership()" ng-bind="\'Action.Join\' | translate"></a> <a id="CancelRenewal" class="btn-control-sm acct-cancel-renewal" ng-href="{{accountData.stateProperties.cancelRenewalUrl}}" ng-mouseup="handleCancelBtnClicked()" ng-show="isMembershipRenewal() && !accountData.stateProperties.inApp" ng-bind="\'Action.CancelRenewal\' | translate"></a> </div> <div ng-if="accountData.stateProperties.isRobloxCreditEnabled == \'true\'"> <div id="roblox-credit-container" class="roblox-credit-container"></div> </div> <div class="membership-info"> <span ng-bind-html="\'Label.BillingHelpWithLink\' | translate:{aTagStartWithHref: \'<a href=\', billingHelpPagesLink: \'https://en.help.roblox.com/hc/categories/200213820\', hrefEnd: \' class=text-name>\', aTagEnd: \'</a>\' }"></span> </div> </div> <div class="col-xs-12"> <p class="text-pastname" ng-show="isMembershipRenewal() && accountData.stateProperties.inApp" ng-bind="\'Description.RenevalFromWebsiteOnly\' | translate"></p> </div> </div> </div> </div> <div ng-if="accountData.stateProperties.isPaymentHistoryEnabled == \'true\'"> <div account-transactions payment-history-url="{{accountData.stateProperties.paymentHistoryUrl}}"></div> </div> </div>'},1762:function(e){e.exports='<div> <div class="section description-section"> <div class="container-header"> <h3 ng-bind="\'Heading.FastTrack\' | translate"></h3> </div> <div class="section-content accuracy-section"> <p ng-bind="\'Description.FastTrack\' | translate"></p> </div> </div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Label.FastTrack.Statistics\' | translate"></h3> </div> <div class="section-content accuracy-section"> <div class="col-sm-12"> <h4 ng-bind="\'Label.FastTrack.Accuracy\' | translate"></h4> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Description.HelpText.FastTrack.Accuracy\' | translate }}"> <span class="icon-moreinfo"></span> </span> <table class="table table-striped"> <thead> <tr> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.You\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.AllFastTrackMembers\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.ReportMonth\' | translate"></label></th> <th><label class="text-label account-settings-label" ng-bind="\'Label.FastTrack.ReportYear\' | translate"></label></th> </tr> </thead> <tbody> <tr ng-repeat="timePeriod in accountContent.userInfo.data.FastTrackMember.TimePeriods"> <td>{{ percentTranslator(timePeriod.IndividualGoodReportPercentage) }}</td> <td>{{ percentTranslator(timePeriod.EveryoneGoodReportPercentage) }}</td> <td>{{ dateMonthTranslator(timePeriod.DateTimeMs) }}</td> <td>{{ dateYearTranslator(timePeriod.DateTimeMs) }}</td> </tr> </table> </div> </div> </div> </div>'},4919:function(e){e.exports='<div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.AccountInfo\' | translate" id="rbx-account-info-header"></h3> </div> <div class="section-content remove-panel settings-account-info-container"> <div class="col-sm-12"> <div ng-if="accountContent.userInfo.data.IsDisplayNamesEnabled" class="form-group" ng-controller="displayNameController"> <span class="text-label account-settings-label" ng-model="accountContent.userInfo.data.DisplayName" ng-bind="\'Label.DisplayName\' | translate"></span> <span class="account-field-displayname">{{ accountContent.userInfo.data.DisplayName }}</span> <span class="account-change-displayname icon-edit" title="{{ \'Label.ConfigureDN\' | translate }}" ng-click="changeDisplayName()" ng-cloak></span> </div> <div class="form-group"> <span class="text-label account-settings-label" ng-bind="\'Label.Username\' | translate"></span> <span class="account-field-username">{{ accountContent.userInfo.data.Name }}</span> <span class="account-change-username icon-edit" title="{{ \'Description.HoverText.ChangeUsername\' | translate }}" ng-click="changeUsername()" ng-if="accountSettingsPolicy.displayChangeUsername" ng-cloak></span> </div> <div class="form-group"> <span class="text-label account-settings-label" ng-bind="\'Label.Password\' | translate"></span> <span class="account-field-password" ng-hide="accountContent.userInfo.data.IsSetPasswordNotificationEnabled">*******</span> <span class="account-field-password-needed" ng-show="accountContent.userInfo.data.IsSetPasswordNotificationEnabled"> <span class="icon-warning"></span> {{ \'Label.AddPassword\' | translate }} </span> <span class="account-change-password icon-edit" title="{{ \'Description.HoverText.ChangePassword\' | translate }}" ng-hide="accountContent.userInfo.data.IsSetPasswordNotificationEnabled" ng-if="accountSettingsPolicy.displayChangePassword" ng-click="setPassword()" ng-cloak></span> <span class="account-change-password icon-edit" title="{{ \'Label.AddPassword\' | translate }}" ng-show="accountContent.userInfo.data.IsSetPasswordNotificationEnabled" ng-click="setPassword()"></span> </div> <div class="form-group" ng-show="accountContent.userInfo.data.PreviousUserNames != \'\'"> <span class="account-previous-usernames"> {{ \'Label.PreviousUsernames\' | translate }} <span class="account-previous-username-list">{{ accountContent.userInfo.data.PreviousUserNames }}</span> </span> </div> <div class="form-group" ng-if="accountSettingsPolicy.displayPhoneNumber && accountInfoSettings.isPhoneNumberVisible" ng-cloak> <span class="text-label account-settings-label" ng-bind="\'Label.Phone\' | translate"></span> <span class="account-field-phone">{{ accountInfoSettings.phone }}</span> <span ng-show="accountInfoSettings.isPhoneVerified"> <span class="account-field-verified-icon icon-checkmark-16x16" ng-show="accountInfoSettings.isPhoneVerified"></span> <span class="text-robux account-field-phone-verified-text" ng-show="accountInfoSettings.isPhoneVerified" ng-bind="\'Label.Verified\' | translate"></span> </span> <span class="account-field-phone-add-msg text-error" ng-hide="accountInfoSettings.isPhoneVerified"> <span class="icon-warning"></span> {{ \'Label.AddPhone\' | translate }} </span> <span class="account-field-phone-add-phone text-name" ng-click="addPhone()" ng-hide="accountInfoSettings.isPhoneVerified" ng-bind="\'Label.AddPhoneLink\' | translate"></span> <span class="account-change-phone icon-edit" title="{{ \'Label.UpdatePhone\' | translate }}" ng-click="changePhone()" ng-show="accountInfoSettings.isPhoneVerified"></span> </div> <div class="form-group" ng-if="accountSettingsPolicy.displayEmailAddress" ng-cloak> <span class="text-label account-settings-label" ng-if="accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Email\' | translate"></span> <span class="text-label account-settings-label" ng-if="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.EmailParent\' | translate"></span> <span class="account-field-email">{{ accountContent.userInfo.data.UserEmail }}</span> <span class="account-field-verified-icon icon-checkmark-16x16" ng-show="accountContent.hasVerifiedEmail"></span> <span class="text-robux account-field-email-verified-text" ng-show="accountContent.hasVerifiedEmail" ng-bind="\'Label.Verified\' | translate"></span> <span class="account-field-email-add-msg text-error" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="accountContent.userInfo.data.UserAbove13"> <span class="icon-warning"></span> {{ \'Label.AddEmail\' | translate }} </span> <span class="account-field-email-add-msg text-error" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="!accountContent.userInfo.data.UserAbove13"> <span class="icon-warning"></span> {{ \'Label.AddEmailParent\' | translate }} </span> <span class="account-field-email-verify-msg text-error" ng-show="accountContent.hasEmailButNotVerified"> <span class="icon-warning"></span> {{ \'Label.EmailVerificationPending\' | translate }} </span> <span class="account-field-email-add-address text-name" ng-click="setEmailAddress()" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.AddEmail\' | translate"></span> <span class="account-field-email-add-address text-name" ng-click="setEmailAddress()" ng-hide="accountContent.userInfo.data.IsEmailOnFile" ng-if="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.AddEmailParent\' | translate"></span> <span class="account-field-email-verify" ng-show="accountContent.hasEmailButNotVerified"> <span class="text-name" ng-click="verifyEmailAddress(false)" ng-bind="\'Label.Verify\' | translate"></span> | <span class="text-name" ng-click="setEmailAddress()" ng-bind="\'Label.UpdateEmail\' | translate"></span> </span> <span class="account-change-email icon-edit" title="{{ \'Label.UpdateEmail\' | translate }}" ng-click="setEmailAddress()" ng-show="accountContent.hasVerifiedEmail"></span> </div> <div class="form-group" ng-hide="true"> <span class="text-label account-settings-label" ng-bind="\'Label.ConnectAccount\' | translate"></span> <span class="account-field-email text-error" ng-bind="\'Label.AddEmail\' | translate"></span> </div> </div> </div> </div> <div class="section" ng-controller="personalController"> <div class="container-header" ng-if="!data.hideDescriptionInSettings"> <h3 ng-bind="\'Heading.Personal\' | translate"></h3> </div> <div class="section-content remove-panel settings-personal-container" ng-class="{\'personal-settings-refactor-enabled\': accountData.stateProperties.isPersonalSettingRefactorEnabled}"> <div class="col-sm-12"> <div class="form-group description-container" ng-if="accountSettingsPolicy.displayDescription &&\r\n                !data.hideDescriptionInSettings" ng-cloak> <textarea class="form-control input-field personal-field-description" placeholder="{{ \'Example.Description\' | translate }}" rows="4" ng-model="personal.description" maxlength="1000"></textarea> <span class="small text" ng-bind="\'Description.HelpText.Description\' | translate"></span> </div> <div class="form-group birthday-container"> <span class="text-label" ng-class="{\'birthday-label-mobile\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-mobile\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-bind="\'Label.Birthday\' | translate"></span> <div ng-if="isDateTimeI18nPickerEnabled()" class="form-control fake-input-lg"> <label class="text-label" ng-class="{\'birthday-label\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-desktop\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-disabled="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Birthday\' | translate"></label> <div ng-repeat="part in populateAccount.orderedBirthdayParts.parts" class="rbx-select-group date select-group" ng-class="part.className"> <select class="input-field rbx-select select-option" id="{{part.idName}}" ng-model="personal.birthdate[part.birthdayName]" ng-change="updateBirthdate()" ng-options="option.value as option.name for option in part.options" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div ng-if="!isDateTimeI18nPickerEnabled()" class="form-control fake-input-lg"> <label class="text-label" ng-class="{\'birthday-label\' : !accountData.stateProperties.isPersonalSettingRefactorEnabled,\'label-desktop\' : accountData.stateProperties.isPersonalSettingRefactorEnabled}" ng-disabled="!accountContent.userInfo.data.UserAbove13" ng-bind="\'Label.Birthday\' | translate"></label> <div ng-if="isAsianBirthdayPickerEnabled()" class="rbx-select-group year select-group"> <select class="input-field rbx-select select-option" id="YearDropdown" ng-model="personal.birthdate.birthYear" ng-change="updateBirthdate()" ng-options="year.value as year.name for year in populateAccount.years" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="!isAsianBirthdayPickerEnabled()" class="rbx-select-group month select-group"> <select class="input-field rbx-select select-option" id="MonthDropdown" ng-model="personal.birthdate.birthMonth" ng-change="updateBirthdate()" ng-options="month.value as month.name for month in populateAccount.months" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="isAsianBirthdayPickerEnabled()" class="rbx-select-group month select-group"> <select class="input-field rbx-select select-option" id="MonthDropdown" ng-model="personal.birthdate.birthMonth" ng-change="updateBirthdate()" ng-options="month.value as month.name for month in populateAccount.monthsI18n" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div class="rbx-select-group day select-group"> <select class="input-field rbx-select select-option" id="DayDropdown" ng-model="personal.birthdate.birthDay" ng-change="updateBirthdate()" ng-options="day.value as day.name for day in populateAccount.days" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> <div ng-if="!isAsianBirthdayPickerEnabled()" class="rbx-select-group year select-group"> <select class="input-field rbx-select select-option" id="YearDropdown" ng-model="personal.birthdate.birthYear" ng-change="updateBirthdate()" ng-options="year.value as year.name for year in populateAccount.years" ng-disabled="!accountContent.userInfo.data.UserAbove13"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <span class="small text account-more-info" ng-show="accountContent.userInfo.data.UserAbove13 && accountContent.userInfo.data.IsAgeDownEnabled"> <span class="tooltip-container ng-scope" tooltip-placement="bottom-left" ng-if="accountSettingsPolicy.displayPrivacyModeToolTip" tooltip="{{ \'Label.ToolTip.PrivacyMode\' | translate }}" ng-click="privacyModeInfo()"> <span class="icon-moreinfo"></span> </span> {{ \'Description.HelpText.PrivacyMode\' | translate }} </span> </div> <div class="form-group gender-container"> <label class="text-label label-mobile" ng-bind="\'Label.Gender\' | translate"></label> <div class="form-control fake-input-lg"> <label class="text-label label-desktop" ng-bind="\'Label.Gender\' | translate"></label> <div id="MaleButton" class="border-left gender-button" ng-click="chooseGender(populateAccount.gender.MALE)"> <div class="gender-icon icon-male" ng-class="{\'selected\': personal.gender === populateAccount.gender.MALE}"></div> </div> <div id="FemaleButton" class="border-left gender-button" ng-click="chooseGender(populateAccount.gender.FEMALE)"> <div class="gender-icon icon-female" ng-class="{\'selected\': personal.gender === populateAccount.gender.FEMALE}"></div> </div> </div> </div> <div class="form-group locale-container" ng-if="accountSettingsPolicy.displayLanguageList" ng-cloak> <label class="text-label label-mobile" ng-bind="\'Label.LocaleTitle\' | translate"></label> <div id="locale-list" class="fake-input-lg"> <label class="text-label label-desktop" ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" ng-bind="\'Label.LocaleTitle\' | translate"></label> <div id="account-settings-language-selector"></div> </div> </div> <div class="form-group country-container" ng-if="accountSettingsPolicy.displayCountryList" ng-cloak> <label class="text-label label-mobile" ng-bind="\'Label.CountryTitle\' | translate"></label> <div class="fake-input-lg"> <label class="text-label label-desktop" ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" ng-bind="\'Label.CountryTitle\' | translate"></label> <div id="country-list" class="rbx-select-group select-group col-xs-12 col-sm-6"> <select class="input-field rbx-select select-option" ng-model="personal.country.countryId" ng-change="updateCountry()" ng-options="country.countryId as country.localizedName disable when country.disabled for country in allActiveCountryList"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div class="form-group themes-choose-container"> <label ng-if="accountData.stateProperties.isPersonalSettingRefactorEnabled" class="text-label label-mobile" ng-bind="\'Label.ThemeTitle\' | translate"></label> <div class="form-control fake-input-lg"> <label class="text-label label-desktop" ng-bind="\'Label.ThemeTitle\' | translate"></label> <div id="themes-list" class="rbx-select-group select-group col-xs-12 col-sm-6"> <select class="input-field rbx-select select-option" ng-model="themeContent.newThemeType" ng-change="chooseThemes()" ng-options="option.value as option.name for option in themeContent.availableThemes"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div class="form-group col-sm-2 save-settings-container"> <button id="SaveInfoSettings" class="btn-control-sm acct-settings-btn" ng-click="updateDescription()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> </div> </div> <div id="social-networks" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-include="\'account-social\'"> </div> </div>'},1467:function(e){e.exports='<div class="section" ng-cloak ng-if="receiverDestinationTypeMapping.length > 0"> <div class="container-header"> <h3 ng-bind="\'Heading.Notifications\' | translate"></h3> </div> <div ng-repeat="receiverDestinationType in receiverDestinationTypeMapping" ng-cloak ng-if="destinationNotificationBands(receiverDestinationType.destinationType).length > 0"> <div class="section-content notifications-section"> <h4>{{receiverDestinationType.friendlyTitle}}</h4> <span class="btn-toggle receiver-destination-type-toggle" ng-if="isAvailable(receiverDestinationType) && isToggleable(receiverDestinationType)" ng-class="{\'on\': !isDestinationTypeOptedOut(receiverDestinationType)}" ng-click="toggleDestinationTypeOptOut(receiverDestinationType)"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="account-settings-label">{{receiverDestinationType.blurbText}}</div> <div class="info-text account-settings-label" ng-if="isAvailable(receiverDestinationType)"> {{receiverDestinationType.secondaryBlurbText}}</div> <div class="info-text account-settings-label" ng-if="!isAvailable(receiverDestinationType)"> {{receiverDestinationType.getUnavailableReason()}}</div> <div class="text-label account-settings-label" ng-if="receiverDestinationType.areSourcesShown"> {{receiverDestinationType.actionWhenText}}</div> <div ng-repeat="notificationBand in destinationNotificationBands(receiverDestinationType.destinationType)" ng-if="!isNotificationBandBlacklisted(notificationBand.notificationSourceType, receiverDestinationType.destinationType) && !!notificationSourceTypeMapping[notificationBand.notificationSourceType] && receiverDestinationType.areSourcesShown" class="notification-settings-checkbox-container"> <div class="checkbox notification-settings-checkbox"> <input type="checkbox" ng-checked="notificationBand.isEnabled" ng-disabled="isDestinationTypeOptedOut(receiverDestinationType) || !notificationBand.isOverridable" ng-click="toggleNotificationBand(notificationBand)" id="{{receiverDestinationType.destinationType}}-checkbox-{{$index}}"> <label for="{{receiverDestinationType.destinationType}}-checkbox-{{$index}}" class="font-caption-body">{{notificationSourceTypeMapping[notificationBand.notificationSourceType]}}</label> </div> </div> <div class="info-text account-settings-label" ng-if="receiverDestinationType.areSourcesShown"></div> <div class="account-settings-label" ng-if="receiverDestinationType.areSourcesShown"> {{receiverDestinationType.actionDescriptionText}} </div> </div> </div> <div class="container-header"> <button id="save-notification-preferences" class="btn-control-sm acct-settings-btn" ng-click="updateNotificationSettings()" ng-bind="\'Action.Save\' | translate"></button> </div> </div>'},1924:function(e){e.exports='<div ng-if="accountContent.userInfo.data.IsParentalControlsTabEnabled"> <div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.ParentalControls\' | translate"></h3> </div> <div class="container-header"> <div class="text-description text-new-line" ng-bind="\'Description.ParentalControls\' | translate"></div> </div> </div> <div class="section" ng-show="accountContent.userInfo.data.IsAccountPinEnabled"> <div class="container-header"> <h3 ng-bind="\'Heading.ParentPin\' | translate"></h3> </div> <div class="section-content notifications-section"> <span id="accountPin-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountPinEnabledSetting()" ng-class="{\'on\': accountPinContent.isEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="btn-toggle-label" ng-show="accountPinContent.isEnabled" ng-bind="\'Label.ParentPinEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountPinContent.isEnabled" ng-bind="\'Label.ParentPinDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountPin\' | translate"></div> </div> </div> <div class="section" ng-if="parentContent.accountRestrictions.isFeatureEnabled && accountSettingsPolicy.displayAccountRestrictions" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.Restrictions\' | translate"></h3> </div> <div class="section-content notifications-section"> <span id="accountRestrictions-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountRestrictionsSetting()" ng-class="{\'on\': accountRestrictions.IsEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="btn-toggle-label" ng-show="accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountRestrictions\' | translate:{linkStart:\'<a class=text-link href=#!/privacy>\', linkEnd:\'</a>\'}"> </div> </div> </div> <div class="section" ng-show="isContentRatingsSettingVisible()"> <div class="container-header"> <h3 ng-bind="\'Heading.ContentRatings\' | translate"></h3> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Description.ContentRatings\' | translate"></label> <div ng-if="isContentRatingsSettingVisible()" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="ContentRatings" ng-model="parentalSettings.ContentRatings" ng-options="option.value as option.name for option in populateAccount.contentRatings" ng-change="updateContentRatings()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div>'},5997:function(e){e.exports='<div class="section" tooltip> <div class="container-header"> <h3 ng-bind="\'Heading.PrivacySettings\' | translate" id="rbx-privacy-settings-header"></h3> </div> <div class="section-content remove-panel privacy-section"> <div class="col-sm-12" ng-class="{\'safety-on\' : accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled}"> <div ng-show="!accountContent.userInfo.data.IsParentalControlsTabEnabled && accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled" class="text-warning contact-settings-locked" ng-bind-html="\'Description.ContactSetting\' | translate:{linkStart: \'<a class=text-link href=#!/security>\', linkEnd: \'</a>\'}"> </div> <div ng-show="accountContent.userInfo.data.IsParentalControlsTabEnabled && accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled" class="text-warning contact-settings-locked" ng-bind-html="\'Description.ContactSettings\' | translate:{linkStart: \'<a class=text-link href=#!/parental-controls>\', linkEnd: \'</a>\'}"> </div> <h4 ng-bind="\'Heading.ContactSettings\' | translate"></h4> <span class="tooltip-container" ng-show="accountContent.userInfo.data.IsAppChatSettingEnabled && accountContent.userInfo.data.IsGameChatSettingEnabled" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.ContactSettings\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsAppChatSettingEnabled && accountContent.userInfo.data.IsGameChatSettingEnabled"> <div class="form-group visible-container"> <div class="rbx-select-group select-group contact-settings-configuration"> <select class="input-field rbx-select select-option" ng-model="contactSettings.MasterSetting" ng-options="option.value as option.name for option in populateAccount.contactSettingsConfiguration" ng-change="onContactSettingsMasterSettingChange()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="rbx-divider"></div> </div> <div class="form-group visible-container" ng-if="accountSettingsPolicy.displayWhoCanMessageMe" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanMessageMe\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanMessageMe\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="PrivateMessagePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="contactSettings.PrivateMessagePrivacy" ng-options="option.value as option.name for option in populateAccount.under13Privacy" ng-change="updatePrivateMessagePrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> <select class="input-field rbx-select select-option" id="PrivateMessagePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="contactSettings.PrivateMessagePrivacy" ng-options="option.value as option.name for option in populateAccount.messaging" ng-change="updatePrivateMessagePrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div ng-show="accountContent.userInfo.data.IsAppChatSettingEnabled"> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanChatInApp\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanChatInApp\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsAppChatSettingEnabled" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="AppChatPrivacy" ng-model="contactSettings.AppChatPrivacy" ng-options="option.value as option.name for option in populateAccount.appChat" ng-change="updateAppChatPrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> <div ng-show="accountContent.userInfo.data.IsGameChatSettingEnabled"> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanChatInGame\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanChatInGame\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div ng-if="accountContent.userInfo.data.IsGameChatSettingEnabled" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="GameChatPrivacy" ng-model="contactSettings.GameChatPrivacy" ng-options="option.value as option.name for option in populateAccount.gameChat" ng-change="updateGameChatPrivacy()" ng-disabled="accountRestrictions.IsEnabled && parentContent.accountRestrictions.isFeatureEnabled"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div> <div class="section-content remove-panel privacy-section settings-privacy-other-container"> <div class="col-sm-12"> <h4 ng-bind="\'Heading.OtherSettings\' | translate"></h4> <div class="form-group visible-container" ng-if="accountSettingsPolicy.displayWhoCanInviteMeToVIPServers" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanInvitePrivateServers\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanInvitePrivateServer\'| translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="PrivateServerInvitePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.privateServerInvitePrivacy" ng-change="updatePrivateServerInvitePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13Privacy"></select> <select class="input-field rbx-select select-option" id="PrivateServerInvitePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.privateServerInvitePrivacy" ng-change="updatePrivateServerInvitePrivacy()" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanJoinGame\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanJoinGame\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="FollowMePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.followMePrivacy" ng-change="updateFollowMePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13JoinPrivacy"></select> <select class="input-field rbx-select select-option" id="FollowMePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="joinSettings.followMePrivacy" ng-change="updateFollowMePrivacy()" ng-options="option.value as option.name for option in populateAccount.privacy"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-show="accountContent.userInfo.data.CanHideInventory"> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanSeeInventory\' | translate"></label> <span class="tooltip-container" tooltip-placement="bottom-right" uib-tooltip="{{ \'Label.ToolTip.WhoCanSeeInventory\' | translate }}"> <span class="icon-moreinfo"></span> </span> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="InventoryPrivacy" ng-model="inventorySettings.inventoryPrivacy" ng-change="updateInventoryPrivacy()" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-if="accountContent.userInfo.data.CanTrade && accountSettingsPolicy.displayWhoCanTradeWithMe" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.WhoCanTradeWithMe\' | translate"></label> <div class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="TradePrivacy" ng-if="accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="tradeSettings.tradePrivacy" ng-change="updateTradePrivacy()" ng-options="option.value as option.name for option in populateAccount.under13Privacy"></select> <select class="input-field rbx-select select-option" id="TradePrivacy" ng-if="!accountContent.userInfo.data.UseSuperSafePrivacyMode" ng-model="tradeSettings.tradePrivacy" ng-change="updateTradePrivacy()" ng-options="option.value as option.name for option in populateAccount.privacy"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group visible-container" ng-if="accountContent.userInfo.data.CanTrade && accountSettingsPolicy.displayTradeQualityFilter" ng-cloak> <label class="text-label account-settings-label" ng-bind="\'Label.TradeFilter\' | translate"></label> <div class="rbx-select-group select-group" id="TradeValueRatio" ng-model="tradeSettings.tradeValue"> <select class="input-field rbx-select select-option" ng-model="tradeSettings.tradeValue" ng-change="updateTradeValue()" ng-options="option.value as option.name for option in populateAccount.tradeValue"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> </div> </div> </div> <div class="section" ng-show="accountContent.userInfo.data.BlockedUsersModel.Total > 0"> <div class="container-header"> <h3 ng-bind="\'Heading.BlockedUsers\' | translate"></h3> </div> <div class="section-content settings-privacy-blocked-users"> <div class="col-sm-12"> <div class="form-group blocked-users-amt"> <button id="blockedUsersToggle" class="btn-primary-sm acct-settings-btn" ng-click="toggleBlockedUsers()"> {{ showBlockedUsers ? (\'Action.Hide\' | translate) : (\'Action.Show\' | translate) }} </button> <span ng-bind="\'Description.BlockedLimitMessage\' | translate:{\r\n                      totalBlockedCount: accountContent.userInfo.data.BlockedUsersModel.Total,\r\n                      maxBlockedCount: accountContent.userInfo.data.BlockedUsersModel.MaxBlockedUsers\r\n                      }"></span> </div> <div class="form-group blocked-users" ng-show="showBlockedUsers"> <ul class="hlist"> <li class="blocked-users-item list-item" ng-repeat="user in accountContent.userInfo.data.BlockedUsersModel.BlockedUsers" ng-hide="user.hidden"> <div ng-if="accountContent.userInfo.data.IsDisplayNamesEnabled" class="blocked-user-name text-overflow"> <div>{{user.DisplayName}}</div> <div class="text-secondary">@{{user.Name}}</div> </div> <div ng-if="!accountContent.userInfo.data.IsDisplayNamesEnabled" class="blocked-user-name text-overflow">{{user.Name}}</div> <button class="btn-control-xs blocked-users-btn" ng-click="unBlock(user)" ng-bind="\'Action.Unblock\' | translate"></button> </li> </ul> </div> </div> </div> </div>'},1195:function(e){e.exports='<div> <two-step-verification ng-if="accountSettingsPolicy.displayTwoStepVerification && accountData.stateProperties.isTwoStepToggleEnabled == \'true\'" pin-locked="pinIsEnabledAndLocked()" unlock-pin="unlockAccountPinSetting" email="accountContent.email" email-status="accountContent.emailStatus" ng-cloak></two-step-verification> <div class="section" ng-if="!accountContent.userInfo.data.IsParentalControlsTabEnabled"> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.AccountControls\' | translate"></h3> </div> <div class="container-header"> <div class="text-description text-new-line" ng-bind="\'Description.AccountControls\' | translate"></div> </div> </div> <div class="section" ng-show="accountSettingsPolicy.displayAccountPIN && accountContent.userInfo.data.IsAccountPinEnabled"> <div class="container-header"> <h3 ng-bind="\'Heading.Pin\' | translate"></h3> </div> <div class="section-content notifications-section"> <span id="accountPin-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountPinEnabledSetting()" ng-class="{\'on\': accountPinContent.isEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="btn-toggle-label" ng-show="accountPinContent.isEnabled" ng-bind="\'Label.AccountPinEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountPinContent.isEnabled" ng-bind="\'Label.AccountPinDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountPin\' | translate"></div> </div> </div> <div class="section" ng-if="parentContent.accountRestrictions.isFeatureEnabled && accountSettingsPolicy.displayAccountRestrictions" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.Restrictions\' | translate"></h3> </div> <div class="section-content notifications-section"> <span id="accountRestrictions-toggle" class="btn-toggle receiver-destination-type-toggle" ng-click="toggleAccountRestrictionsSetting()" ng-class="{\'on\': accountRestrictions.IsEnabled}"> <span class="toggle-flip"></span> <span id="toggle-on" class="toggle-on"></span> <span id="toggle-off" class="toggle-off"></span> </span> <div class="btn-toggle-label" ng-show="accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionEnabled\' | translate"></div> <div class="btn-toggle-label" ng-show="!accountRestrictions.IsEnabled" ng-bind="\'Label.AccountRestrictionDisabled\' | translate"></div> <div class="rbx-divider"></div> <div class="text-description" ng-bind-html="\'Description.AccountRestrictionsEnabled\' | translate:{linkStart:\'<a class=text-link href=#!/privacy>\', linkEnd:\'</a>\'}"> </div> </div> </div> </div> <div class="section" ng-if="accountSettingsPolicy.displayConnectedAccounts && connectedAccounts.isConnectedAccountsBoxShown" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.ConnectedAccounts\' | translate"></h3> </div> <p class="text-secondary" ng-if="!hideConnectedAccountsDescription" ng-bind="\'Description.ConnectedAccounts\' | translate"></p> <div class="section-content connected-accounts-section"> <div ng-repeat="provider in connectedAccounts.providers" class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="text-label provider-label">{{provider.provider}}</span> <span>{{provider.identifier}}</span> <a id="Disconnect" class="text-link acct-settings-btn" ng-click="disconnectFromProvider(provider.provider)" ng-bind="\'Action.SocialDisconnect\' | translate"></a> </div> </div> </div> </div> <div class="section" ng-show="xbox.isDisconnectXboxBoxShown"> <div class="container-header"> <h3 ng-bind="\'Heading.Xbox\' | translate"></h3> </div> <div class="section-content xbox-section"> <div class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="security-settings-text" ng-bind="\'Label.XboxConnected\' | translate"></span> <button id="XboxDisconnect" class="btn-control-sm acct-settings-btn" ng-click="disconnectFromXbox()" ng-bind="\'Action.SocialDisconnect\' | translate"></button> </div> </div> </div> </div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.SecureSignOut\' | translate"></h3> </div> <div class="section-content settings-security-setting-container"> <div class="col-sm-12"> <div class="form-group account-security-settings-container"> <span class="security-settings-text" ng-bind="\'Label.SignOutAllSessions\' | translate"></span> <button id="SignOut" class="btn-control-sm acct-settings-btn" ng-click="signOutFromSessions()" ng-bind="\'Action.SignoutAllSessions\' | translate"></button> </div> </div> </div> </div> </div> '},592:function(e){e.exports='<div class="section" ng-if="accountSettingsPolicy.displaySocialMedia" ng-cloak> <div class="container-header"> <h3 ng-bind="\'Heading.SocialNetworks\' | translate"></h3> </div> <div class="section-content remove-panel settings-social-networks-container"> <div class="col-sm-12"> <div class="form-group facebook-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Facebook\' | translate">Facebook:</label> <input class="form-control input-field" id="facebook" placeholder="{{ \'Example.Facebook\' | translate }}" ng-model="socialNetworks.FacebookUrl"/> </div> <div class="form-group twitter-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Twitter\' | translate"></label> <input class="form-control input-field" id="twitter" placeholder="{{ \'Example.Twitter\' | translate }}" ng-model="socialNetworks.TwitterUrl"/> </div> <div class="form-group youtube-container"> <label class="text-label account-settings-label" ng-bind="\'Label.YouTube\' | translate"></label> <input class="form-control input-field" id="youtube" placeholder="{{ \'Example.YouTube\' | translate }}" ng-model="socialNetworks.YouTubeUrl"/> </div> <div class="form-group twitch-container"> <label class="text-label account-settings-label" ng-bind="\'Label.Twitch\' | translate"></label> <input class="form-control input-field" id="twitch" placeholder="{{ \'Example.Twitch\' | translate }}" ng-model="socialNetworks.TwitchUrl"/> </div> <div class="form-group visible-container"> <label class="text-label account-settings-label" ng-bind="\'Label.SocialLinksVisibility\' | translate"></label> <div id="visible-to" class="rbx-select-group select-group"> <select class="input-field rbx-select select-option" id="social-network-visibility" ng-model="socialNetworks.SocialNetworksVisibilityPrivacy" ng-options="option.value as option.name for option in populateAccount.visibility"></select> <span class="icon-arrow icon-down-16x16"></span> </div> </div> <div class="form-group col-sm-12 save-settings-container"> <button id="save-social-settings" class="btn-control-sm acct-settings-btn" ng-click="updateSocialNetworks()" ng-bind="\'Action.Save\' | translate"></button> </div> </div> </div> </div>'},7466:function(e){e.exports='<div id="change-display-name-modal" class="modal-content change-display-name-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="close()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only">{{modalLayout.modalCancel}}</span> </button> <h5>{{modalLayout.modalTitle}}</h5> </div> <form name="displayNameForm"> <div class="modal-body"> <div ng-class="{\'form-has-error\': isInputFormInvalidated(), \'form-has-feedback\': isInputFormInvalidated() }" class="form-change-display-name"> <input type="text" focus-me="true" ng-model="modalData.currentDisplayName" placeholder="{{modalData.originalDisplayName}} " maxlength="{{modalLayout.maxCharactersForDisplayName}}" class="form-control input-field" autocomplete="off" ng-change="validateInputChange()"/> <div class="font-caption-body change-display-name-feedback-container"> <p ng-class="{\'invisible\': isInputFormInvalidated() }" class="font-caption-body form-control-feedback" ng-bind="modalLayout.displayErrorMsg"></p> <span class="count-down">{{modalData.currentDisplayName.length}}/{{modalLayout.maxCharactersForDisplayName}}</span> </div> <p class="text-description font-caption-body important-description"> {{modalLayout.modalDescriptionWarning}} </p> </div> </div> <div class="modal-footer"> <button class="btn-primary-md btn-min-width" ng-disabled="isInputFormInvalidated()" ng-click="saveDisplayName()"> {{modalLayout.modalSave}} </button> <button class="btn-secondary-md btn-min-width" ng-click="close()"> {{modalLayout.modalCancel}} </button> </div> </form> </div>'},6431:function(e){e.exports='<div class="enable-authenticator-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Heading.Dialog.AuthenticatorSetup\' | translate"></span></h4> </div> <div class="modal-body"> <div class="spinner spinner-default" ng-show="!layout.setupToken && !layout.errorMessage"></div> <div ng-show="layout.setupToken"> <div class="img-container modal-image-container" ng-show="layout.viewQrCode"> <img class="modal-thumb" src="{{ layout.qrCodeImage }}"/> <br/> <a class="text-link xsmall" ng-click="toggleQrCode()" ng-bind="\'Action.Dialog.AuthenticatorSetupViewManualEntryKey\' | translate"></a> </div> <div class="body-text section-content-off" ng-hide="layout.viewQrCode" ng-bind="layout.manualEntryKey"></div> <a class="text-link xsmall toggle-qr-code" ng-click="toggleQrCode()" ng-hide="layout.viewQrCode" ng-bind="\'Action.Dialog.AuthenticatorSetupViewQRCode\' | translate"></a> <br/> <div class="body-text text-description" ng-show="layout.viewQrCode" ng-bind="\'Description.Dialog.AuthenticatorSetupQRCode\' | translate"></div> <div class="body-text text-description" ng-hide="layout.viewQrCode" ng-bind="\'Description.Dialog.AuthenticatorSetupManualEntryKey\' | translate"></div> <br/> <form class="form-horizontal" autocomplete="off" role="form" name="enterCodeForm" ng-submit="submit(enterCodeForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input class="form-control input-field" placeholder="{{\'Label.Dialog.AuthenticatorSetupCodeInputPlaceholder\' | translate: {codeLength: layout.authenticatorCodeLength} }}" ng-model="layout.code" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" numbers-only pattern="[0-9]*" maxlength="{{ layout.authenticatorCodeLength }}" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="enterCodeForm.$invalid || !canVerify()"/> </form> </div> <p ng-if="!layout.setupToken && layout.errorMessage" class="body-text text-description" ng-bind="layout.errorMessage"></p> </div> <div class="modal-footer" ng-if="layout.setupToken"> <div class="spinner spinner-sm spinner-no-margin spinner-block" ng-show="layout.debounce"></div> <div ng-hide="layout.debounce"> <button type="submit" class="btn-secondary-md" ng-click="submit(enterCodeForm)" ng-disabled="enterCodeForm.$invalid || !canVerify()" ng-bind="\'Action.Dialog.Verify\' | translate"></button> <button ng-click="dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.Cancel\' | translate"></button> </div> </div> </div>'},9011:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"> <span class="icon-close"></span> </span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="title()"></h4> </div> <div class="modal-body"> <div class="border-warning two-step-warning" ng-show="!addEmail && !emailSetSuccess && !emailRequired"> <span class="icon-warning-orange"></span> <span class="small text-warning form-warning-text" ng-bind="\'Description.Dialog.ChangeEmailWarning\' | translate"></span> </div> <div ng-if="emailRequired" ng-bind="action"> </div> <form class="form-horizontal" ng-show="!emailSetSuccess && !emailRequired" autocomplete="off" role="form" name="updateEmailForm" ng-submit="submit(updateEmailForm)"> <div class="form-group"> <input id="emailAddress" name="userInfo.emailAddress" type="email" class="form-control input-field" placeholder="{{title()}}" autocomplete="off" ng-pattern="regexData.email" ng-model="userInfo.emailAddress" ng-required="true"/> </div> <input type="text" class="hidden" name="fake-username"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-if="showPasswordField"> <input id="password" name="userInfo.password" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" key-press-enter="submit(updateEmailForm)" autocomplete="new-password" ng-model="userInfo.password" ng-required="doesPasswordExist"/> <p class="text-error form-control-label modal-error-message change-email-message"> <span ng-bind="emailErrorMessage(updateEmailForm)"></span> </p> </div> </form> <div ng-if="emailSetSuccess" ng-bind="\'Response.Dialog.EmailSentForVerification\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" ng-show="!emailSetSuccess && !emailRequired" id="purchaseConfirm" class="modal-button btn-secondary-md" ng-click="submit(updateEmailForm)" ng-disabled="updateEmailForm.$invalid || isProcessing" ng-bind="submitButtonText()"> </button> <button ng-if="emailSetSuccess" type="button" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="modalConstants.default.submitButtonText" key-press-enter="$close(true)" focus-me="true"></button> <button ng-show="emailRequired" type="submit" class="modal-button btn-secondary-md" ng-click="toggleEmailRequired(false)" ng-bind="\'Action.Dialog.AddEmail\' | translate"></button> </div> </div>'},8878:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-if="verifiedEmailRequired" ng-bind="\'Heading.Dialog.VerifiedEmailRequired\' | translate"></h4> <h4 ng-if="!verifiedEmailRequired" ng-bind="\'Heading.Dialog.VerifyEmail\' | translate"></h4> </div> <div class="modal-body"> <span ng-if="verifiedEmailRequired" ng-show="!verificationEmailError" ng-bind="contextForVerification"></span> <span ng-if="!verifiedEmailRequired" ng-show="!verificationEmailError" ng-bind="\'Description.Dialog.EmailVerificationSent\' | translate"></span> <span ng-show="verificationEmailError" ng-bind="error"></span> </div> <div class="modal-buttons"> <button ng-if="verifiedEmailRequired" class="modal-button btn-secondary-md" ng-click="sendVerificationEmail()" ng-bind="\'Action.Dialog.VerifyEmailPrimary\' | translate" key-press-enter="sendVerificationEmail()" focus-me="true"></button> <button ng-if="!verifiedEmailRequired && !verificationEmailError" class="modal-button btn-secondary-md" ng-click="$close(true)" ng-bind="\'Action.Dialog.VerifyEmailOk\' | translate" key-press-enter="$close(true)" focus-me="true"></button> <button ng-show="verificationEmailError" class="modal-button btn-secondary-md" ng-click="beginAccountVerifyEmailAddress()" ng-bind="\'Action.Dialog.VerifyEmailRetry\' | translate" key-press-enter="beginAccountVerifyEmailAddress()" focus-me="true"></button> </div> </div>'},3008:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="passwordSetSuccess ? passwordSetSuccessTitle : title"></h4> </div> <div class="modal-body"> <form class="form-horizontal" ng-show="!passwordSetSuccess" role="form" name="changePasswordForm" ng-submit="submit(changePasswordForm)"> <div class="form-group" ng-show="facebookDisconnect"> <p ng-bind="\'Description.Dialog.FacebookDisconnectWarning\' | translate"></p> </div> <div class="form-group" ng-show="doesPasswordExist"> <input id="old-password-text-box" name="passwordInfo.currentPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordCurrent\' | translate}}" type="password" rbx-valid-password ng-model="passwordInfo.currentPassword" ng-trim="false" ng-required="changePassword && doesPasswordExist ? true : false"/> </div> <div class="form-group"> <input id="new-password-text-box" name="passwordInfo.newPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordNew\' | translate}}" type="password" rbx-valid-password ng-model="passwordInfo.newPassword" ng-trim="false" ng-required="true"/> </div> <div class="form-group"> <input id="confirm-password-text-box" name="passwordInfo.confirmPassword" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangePasswordConfirm\' | translate}}" type="password" key-press-enter="submit(changePasswordForm)" rbx-valid-password-confirm match-field="passwordInfo.newPassword" ng-model="passwordInfo.confirmPassword" ng-trim="false" ng-required="true"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="passwordErrorMessage(changePasswordForm)"></span> </p> </div> </form> <div ng-if="passwordSetSuccess" ng-bind="\'Description.Dialog.ChangePasswordConfirmation\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" ng-show="!passwordSetSuccess" class="modal-button btn-secondary-md" ng-click="submit(changePasswordForm)" ng-disabled="changePasswordForm.$invalid" ng-bind="\'Action.Dialog.ChangePassword\' | translate"> </button> <button ng-if="passwordSetSuccess" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.SuccessDialogButtonText\' | translate" key-press-enter="$close(true)" focus-me="true"></button> </div> </div>'},9854:function(e){e.exports='<div ng-show="layout.showDeleteModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.RemovePhone\' | translate"></h4> </div> <div class="modal-body"> <div class="account-delete-phone-info" ng-bind="\'Description.Dialog.RemovePhoneWarning\' | translate:{phoneLast4:phoneModalData.lastDigits}"> </div> <form class="form-horizontal" autocomplete="off" role="form" name="deletePhoneForm"> <input type="text" class="hidden"> <input type="password" class="hidden"> <div class="form-group"> <input id="password-delete-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" autocomplete="new-password" key-press-enter="deletePhone()" ng-model="phoneInfo.password" ng-keypress="clearDeletePhoneError()" required/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.deletePhoneError"> </span> </p> </div> </form> </div> <div class="modal-footer"> <div class="delete-button-container" toggle-loading is-loading="layout.isDeletePhoneBusy"> <button type="submit" class="btn-alert-md" ng-click="deletePhone()" key-press-enter="deletePhone()" ng-disabled="deletePhoneForm.$invalid" ng-bind="\'Action.Dialog.RemovePhonePrimary\' | translate"> </button> <button ng-click="$dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.RemovePhoneSecondary\' | translate"> </button> </div> </div> </div>'},7265:function(e){e.exports="<div> <div ng-include=\"'modal-phone-update'\"></div> <div ng-include=\"'modal-phone-delete'\"></div> <div ng-include=\"'modal-phone-verify'\"></div> </div>"},9494:function(e){e.exports='<div ng-show="layout.showEditModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="phoneModalData.action"></span></h4> </div> <div class="modal-body"> <div class="account-change-phone-info" ng-bind="\'Description.Dialog.AddPhone\' | translate"></div> <div ng-if="phoneModalData.isAttemptToChangePhone" class="current-phone"> <span ng-bind="\'Label.Dialog.EditPhoneCurrentNumber\' | translate"></span> <span ng-bind="phoneModalData.maskedNumber"></span> </div> <div class="border-warning two-step-warning" ng-show="phoneModalData.isAttemptToChangePhone"> <span class="icon-warning-orange"></span> <span class="small text-warning form-warning-text" ng-bind="\'Description.Dialog.EditPhoneWarning\' | translate"></span> </div> <form class="form-horizontal" autocomplete="off" role="form" name="updatePhoneForm"> <div class="form-group"> <div id="country-list" class="rbx-select-group phone-prefix-list"> <select class="input-field rbx-select" ng-model="phoneInfo.phonePrefix" ng-options="p|phonePrefix for p in accountInfoSettings.phonePrefixes"></select> </div> <p id="prefix-list-error" class="text-error form-control-label modal-error-message phone-error-message"> <span ng-bind="layout.countryError"> </span> </p> </div> <div class="input-group form-group phone-number-group"> <div class="clearfix phone-input-row"> <div class="form-control input-field phone-prefix" ng-bind="getPhonePrefix()"> </div> <div class="icon-close-gray-16x16 clear-phone" ng-show="phoneModalData.isAttemptToChangePhone" ng-click="clearPhone()"></div> <input id="phone-text-box" class="form-control input-field last-input phone-input" name="phoneTextbox" type="tel" placeholder="{{\'Label.Dialog.AddPhoneField\' | translate}}" autocomplete="off" phone-number-format country-code="phoneInfo.phonePrefix.code" maxlength="20" ng-keypress="clearUpdatePhoneError()" ng-model="phoneInfo.phone" required> </div> <p id="invalid-phone-error" class="text-error form-control-label modal-error-message phone-error-message"> <span ng-show="phoneInfo.phone && !updatePhoneForm.phoneTextbox.$valid" ng-bind="\'Response.Dialog.InvalidPhoneNumber\' | translate"></span> </p> </div> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-show="doesPasswordExist"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" autocomplete="new-password" key-press-enter="updatePhone()" ng-model="phoneInfo.password" ng-keypress="clearUpdatePhoneError()" ng-required="doesPasswordExist"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.updatePhoneError" id="phone-update-error"> </span> </p> </div> </form> <div class="text-error" ng-bind="layout.error"></div> </div> <div class="modal-footer"> <div class="update-button-container" toggle-loading is-loading="layout.isUpdatePhoneBusy"> <button type="submit" class="btn-secondary-md" ng-click="updatePhone()" key-press-enter="updatePhone()" ng-disabled="updatePhoneForm.$invalid"> <span ng-bind="phoneModalData.action"></span> </button> <div> <span ng-show="phoneModalData.isAttemptToChangePhone" class="text-report remove-phone" ng-click="initiateDeletePhone()" ng-bind="\'Action.Dialog.EditPhoneSecondary\' | translate"></span> </div> </div> </div> </div>'},5713:function(e){e.exports='<div ng-show="layout.showVerifyModal" class="update-phone"> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.VerifyPhone\' | translate"></h4> </div> <div class="modal-body"> <div class="sms-img"></div> <div ng-bind="\'Label.Dialog.VerifyPhoneCodeLabel\' | translate"></div> <form class="form-horizontal"> <input class="hidden" type="text" name="fakeusernameremembered"> <div class="form-group verification-code-input"> <input class="form-control input-field" autocomplete="false" name="verification-code" placeholder="Enter Code ({{phoneModalData.codeLength}}-digit)" key-press-enter="submitCode()" minLength="{{phoneModalData.codeLength}}" maxLength="{{phoneModalData.codeLength}}" numbers-only ng-trim="false" ng-disabled="layout.isVerifyPhoneBusy" ng-model="phoneInfo.code" ng-keypress="clearCodeError()" focus-me="{{layout.focusOnCodeInput}}" required> <p class="text-error form-control-label modal-error-message"> <span ng-bind="layout.codeError"> </span> </p> </div> </form> </div> <div class="modal-footer"> <div toggle-loading is-loading="layout.isVerifyPhoneBusy"> <button type="submit" class="btn-secondary-md" ng-click="submitCode()" ng-disabled="updatePhoneForm.$invalid" ng-bind="\'Action.Dialog.VerifyPhonePrimary\' | translate"> </button> <button ng-click="$dismiss()" class="btn-control-md" ng-bind="\'Action.Dialog.VerifyPhoneSecondary\' | translate"> </button> <div> <span ng-click="resendCode()" class="text-link resend-code" ng-bind="\'Action.Dialog.VerifyPhoneResendLink\' | translate"> </span> </div> </div> </div> </div>'},2016:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-show="pinCreateSuccess" ng-bind="\'Heading.Dialog.PinCreateSuccessConfirmation\' | translate"></h4> <h4 ng-show="!pinCreateSuccess" ng-bind="\'Heading.Dialog.PinCreate\' | translate"></h4> </div> <div class="modal-body" id="modal-body"> <form role="form" ng-show="!pinCreateSuccess" name="pinCreateForm" ng-submit="submit(pinCreateForm)"> <div class="text-label pin-fields-email"> <span ng-bind="\'Label.Dialog.VerifiedEmail\' | translate"></span> <span ng-bind="userEmail"></span> </div> <div class="pin-fields"> <div class="pin-fields-label"> <span ng-bind="\'Label.Dialog.CreatePin\' | translate: {digitCount: accountPinLength}"></span> </div> <input type="tel" class="form-control input-field pin-field" name="newPin" autocomplete="off" ng-trim="false" ng-model="pinInfo.newPin" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" numbers-only autofocus/> <div class="pin-fields-label" ng-bind="\'Label.Dialog.ConfirmPin\' | translate"></div> <input type="tel" class="form-control input-field pin-field" name="newPinConfirm" autocomplete="off" ng-trim="false" ng-model="pinInfo.newPinConfirm" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" key-press-enter="submit(pinCreateForm)" numbers-only match-field="pinInfo.newPin"/> </div> <div class="pin-fields-error text-center text-error"> <span ng-bind="pinErrorMessage(pinCreateForm)"></span> <span ng-if="!pinErrorMessage(pinCreateForm)"> </span> </div> <input type="submit" class="hidden" ng-disabled="pinCreateForm.$invalid"/> </form> <div ng-if="pinCreateSuccess" ng-bind="\'Response.Dialog.PinCreateConfirmation\' | translate"></div> </div> <div class="modal-buttons"> <button type="submit" class="modal-button btn-secondary-md" ng-show="!pinCreateSuccess" ng-click="submit(pinCreateForm)" ng-disabled="pinCreateForm.$invalid" ng-bind="\'Action.Dialog.PinCreate\' | translate"> </button> <button ng-if="pinCreateSuccess" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.Dialog.PinCreateOk\' | translate"></button> </div> </div>'},8790:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="$dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span><span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-bind="\'Heading.Dialog.PinUnlock\' | translate"></h4> </div> <div class="modal-body" id="modal-body"> <form role="form" ng-show="!pinCreateSuccess" name="pinUnlockForm" ng-submit="submit(pinUnlockForm)"> <div class="pin-fields"> <div class="pin-fields-label" ng-bind="\'Description.Dialog.PinUnlock\' | translate"></div> <input type="tel" class="form-control pin-field" name="pin" autocomplete="off" ng-trim="false" ng-model="pinInfo.pin" minLength="{{accountPinLength}}" maxLength="{{accountPinLength}}" ng-minlength="{{accountPinLength}}" ng-maxlength="{{accountPinLength}}" ng-required="true" key-press-enter="submit(pinUnlockForm)" numbers-only autofocus/> </div> <div class="pin-fields-error text-center text-error"> <span ng-bind="pinErrorMessage(pinUnlockForm)"></span> <span ng-if="!pinErrorMessage(pinUnlockForm)"> </span> </div> <input type="submit" class="hidden" ng-disabled="pinUnlockForm.$invalid"/> </form> </div> <div class="modal-buttons"> <button type="submit" class="modal-button btn-secondary-md" ng-show="!pinCreateSuccess" ng-click="submit(pinUnlockForm)" ng-disabled="pinUnlockForm.$invalid" ng-bind="\'Action.Dialog.PinUnlock\' | translate"> </button> </div> </div>'},3164:function(e){e.exports='<div class="recovery-codes-modal"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4> <span ng-hide="layout.recoveryCodes" ng-bind="\'Heading.GenerateNewRecoveryCodes\' | translate"></span> <span ng-show="layout.recoveryCodes" ng-bind="\'Heading.RecoveryCodesGenerated\' | translate"></span> </h4> </div> <div class="modal-body"> <div class="spinner spinner-default" ng-show="layout.loading"></div> <div ng-show="!layout.recoveryCodes && !layout.loading && !layout.loadErrorMessage"> <div class="body-text text-description" ng-bind="\'Description.Dialog.GenerateNewRecoveryCodes\' | translate"></div> <br/> <form class="form-horizontal" autocomplete="off" role="form" name="enterPasswordForm" ng-submit="submit(enterPasswordForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input class="form-control input-field" type="password" placeholder="{{ \'Label.Dialog.VerifyPassword\' | translate }}" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="enterPasswordForm.$invalid || !canContinue()"/> </form> </div> <div ng-if="layout.recoveryCodes"> <div class="body-text text-description" ng-bind="\'Description.Dialog.RecoveryCodesGenerated\' | translate"></div> <br/> <div class="section-content-off recovery-codes-container"> <pre class="recovery-codes-list text-secondary" ng-bind="formatRecoveryCodes(layout.recoveryCodesLeft)"></pre> <pre class="recovery-codes-list text-secondary" ng-bind="formatRecoveryCodes(layout.recoveryCodesRight)"></pre> </div> <br/> <div class="checkbox"> <input id="confirm-recovery-codes-checkbox" type="checkbox" ng-model="layout.confirmSavedCodes"/> <label for="confirm-recovery-codes-checkbox" ng-bind="\'Label.Dialog.RecoveryCodesSavedConfirmation\' | translate"></label> </div> </div> <p ng-if="layout.loadErrorMessage" class="body-text text-description" ng-bind="layout.loadErrorMessage"></p> </div> <div class="modal-footer" ng-if="!layout.recoveryCodes" ng-hide="layout.loading || layout.loadErrorMessage"> <div class="spinner spinner-sm spinner-no-margin spinner-block" ng-show="layout.debounce"></div> <button type="submit" class="btn-cta-md btn-full-width" ng-click="submit(enterPasswordForm)" ng-hide="layout.debounce" ng-disabled="enterPasswordForm.$invalid || !canContinue()" ng-bind="\'Action.Dialog.Continue\' | translate"></button> <span class="text-footer" ng-if="layout.activeRecoveryCodeCount > 0" ng-bind="\'Label.Dialog.GenerateNewRecoveryCodesClearNotice\' | translate: { activeCodeCount: layout.activeRecoveryCodeCount } "></span> </div> <div class="modal-footer" ng-if="layout.recoveryCodes"> <button type="submit" class="btn-secondary-md btn-full-width" ng-click="close()" ng-disabled="!layout.confirmSavedCodes" ng-bind="\'Action.Dialog.Close\' | translate"></button> </div> </div>'},4349:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"> <span class="icon-close"></span> </span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 class="text-center" ng-bind="getTitle()"></h4> </div> <div class="modal-body"> <div class="text-center text-description text-new-line" ng-bind="\'Description.UnlinkLogOutWarning\' | translate"> </div> <form class="form-horizontal" autocomplete="off" role="form" name="socialDisconnectForm" ng-submit="submit(socialDisconnectForm)"> <div class="form-group" ng-class="{\'form-has-error form-has-feedback\': hasPasswordError()}"> <input id="password" name="data.password" class="form-control input-field" placeholder="{{\'Placeholder.Password\' | translate}}" type="password" autocomplete="off" key-press-enter="submit(socialDisconnectForm)" ng-model="data.password" ng-change="clearPasswordError()" ng-required="true"/> <p class="text-error form-control-label modal-error-message"> <span ng-bind="getPasswordErrorMessage(socialDisconnectForm)"></span> </p> </div> </form> </div> <div class="modal-buttons"> <button type="button" class="modal-button btn-control-md" ng-click="dismiss()" ng-disabled="socialDisconnectForm.$invalid || layout.isProcessing" ng-bind="\'Action.Cancel\' | translate"></button> <button type="submit" class="modal-button btn-secondary-md" ng-click="submit(socialDisconnectForm)" ng-disabled="socialDisconnectForm.$invalid || layout.isProcessing" ng-bind="\'Action.Unlink\' | translate"></button> </div> </div>'},6161:function(e){e.exports='<div class="update-two-step"> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4><span ng-bind="\'Response.Dialog.Warning\' | translate"></span></h4> </div> <div class="modal-body"> <div class="account-change-two-step-info"> <div ng-bind="\'Response.Dialog.TwoStepDisableWarning\' | translate"></div> <br/> </div> <form class="form-horizontal" autocomplete="off" role="form" name="disableTwoStepForm" ng-submit="submit(disableTwoStepForm)"> <input type="text" class="hidden" name="fake-input"> <input type="password" class="hidden" name="fake-password" autocomplete="new-password"> <div class="form-group" ng-class="{\'form-has-feedback form-has-error\': layout.errorMessage}"> <input id="password-text-box" name="password-textbox" class="form-control input-field" placeholder="{{\'Label.Dialog.VerifyPassword\' | translate}}" type="password" ng-model="layout.password" ng-disabled="layout.debounce" ng-keyup="clearErrorMessage()" autofocus/> <p class="form-control-label" ng-bind="layout.errorMessage"></p> </div> <input type="submit" class="hidden" ng-disabled="disableTwoStepForm.$invalid || !canSubmit()"/> </form> </div> <div class="modal-footer"> <div class="update-button-container" toggle-loading is-loading="layout.debounce"> <button type="submit" class="btn-secondary-md" ng-click="submit(disableTwoStepForm)" ng-disabled="disableTwoStepForm.$invalid || !canSubmit()" ng-bind="\'Action.Dialog.Yes\' | translate"></button> <button ng-click="dismiss()" class="btn-control-md" ng-disabled="layout.debounce" ng-bind="\'Action.Dialog.No\' | translate"></button> </div> </div> </div>'},2360:function(e){e.exports='<div> <div class="modal-header"> <button type="button" class="close" ng-click="dismiss()"> <span aria-hidden="true"><span class="icon-close"></span></span> <span class="sr-only" ng-bind="\'Action.Dialog.Close\' | translate"></span> </button> <h4 ng-if="usernameUpdateSuccess" ng-bind="\'Heading.Dialog.DefaultSuccess\' | translate"></h4> <h4 ng-if="!usernameUpdateSuccess" ng-bind="\'Description.Dialog.ChangeUsernameTitle\' | translate"></h4> </div> <div class="modal-body"> <div class="change-username-price" ng-show="!usernameUpdateSuccess" ng-bind-html="getChangePriceText()"> </div> <div class="small" ng-show="!usernameUpdateSuccess"> </div> <form class="form-horizontal" ng-show="!usernameUpdateSuccess" role="form" name="changeUsernameForm" ng-submit="submit(changeUsernameForm)"> <div class="form-group"> <input id="desired-username-text-box" name="username" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangeUsernameField\' | translate}}" autocomplete="off" ng-model="user.username" ng-blur="onChange()" ng-keyup="onChange()" ng-change="onChange()" account-valid-username required/> <p class="text-error form-control-label modal-error-message"> <span ng-show="changeUsernameForm.username.$dirty && !changeUsernameForm.username.$valid" ng-bind="changeUsernameForm.username.$usernameMessage"></span> </p> </div> <div class="form-group"> <input id="account-password-text-box" name="password" class="form-control input-field" placeholder="{{\'Label.Dialog.ChangeUsernameAccountPassword\' | translate}}" type="password" autocomplete="off" key-press-enter="submit(changeUsernameForm)" ng-model="user.password" required/> <p class="text-error form-control-label modal-error-message" id="generic-error-message"> <span ng-bind="usernameErrorMessage(changeUsernameForm)"></span> </p> </div> </form> <div ng-if="usernameUpdateSuccess" ng-bind="result.message ? result.message : (\'Response.Dialog.ChangeUsernameSuccess\' | translate)"> </div> <div ng-show="!usernameUpdateSuccess" ng-bind="\'Description.Dialog.ChangeUsernameDisclaimer\' | translate"></div> </div> <div class="modal-buttons"> <div ng-if="!usernameUpdateSuccess"> <button type="submit" class="modal-button btn-primary-md" ng-if="!isFreeUsernameChangeAllowed" ng-click="submit(changeUsernameForm)" ng-disabled="changeUsernameForm.$invalid" ng-bind="\'Action.Dialog.ChangeUsernameBuy\' | translate"> </button> <button type="submit" class="modal-button btn-secondary-md" ng-if="isFreeUsernameChangeAllowed" ng-click="submit(changeUsernameForm)" ng-disabled="changeUsernameForm.$invalid" ng-bind="\'Action.Dialog.Update\' | translate"></button> </div> <div class="text-center" ng-if="usernameUpdateSuccess"> <button type="submit" class="modal-button btn-control-md" ng-click="$close(true)" ng-bind="\'Action.SuccessDialogButtonText\' | translate" key-press-enter="$close(true)" focus-me="true"></button> </div> </div> </div>'},9399:function(e){e.exports='<div ng-show="accountPinContent.isEnabled && accountContent.userInfo.data.IsAccountPinEnabled"> <div class="pin-toggle-button"> <span ng-click="toggleAccountPinLockSetting()"> <span class="tooltip-container" data-toggle="tooltip" ng-show="!accountPinContent.isUnlocked" title="{{\'Label.ToolTip.PinLocked\' | translate}}"> <button type="button" class="btn-generic-locked-sm"> <span class="icon-locked"></span> </button> </span> <span class="tooltip-container" data-toggle="tooltip" title="{{\'Label.ToolTip.PinUnlocked\' | translate}}" ng-show="accountPinContent.isUnlocked"> <button type="button" class="btn-generic-unlocked-sm"> <span class="icon-unlocked"></span> </button> </span> </span> </div> <div class="text-warning small pin-time-remaining" ng-show="accountPinContent.isUnlocked"> <div class="text-warning small" ng-bind="\'Label.PinTimeRemaining\' | translate"></div> <span class="font-bold"> <span ng-bind="accountPinContent.timeRemainingMin"></span> <span ng-bind="\'Label.PinTimeMins\' | translate"></span> <span ng-bind="accountPinContent.timeRemainingSec"></span> <span ng-bind="\'Label.PinTimeSecs\' | translate"></span> </span> </div> </div>'},1907:function(e){e.exports='<div> <div class="section"> <div class="container-header"> <h3 ng-bind="\'Heading.Transactions\' | translate"></h3> </div> <div class="sg-system-feedback"> <div class="alert-system-feedback"> <span class="alert alert-loading" ng-bind="errorMsg"></span> </div> </div> <div class="col-xs-12 section-content {{infoSectionCssClass}}" ng-if="!isDataReady"> <p ng-bind="infoMsg"></p> </div> <div class="col-xs-12 section-content table-container" ng-show="isDataReady"> <div class="row"> <table class="table table-striped"> <thead> <tr> <th class="text-label date-column column-hide-tiny" ng-bind="\'Label.BillingHistoryDate\' | translate"></th> <th class="text-label product-column" ng-bind="\'Label.BillingHistoryDescription\' | translate"> </th> <th class="text-label cost-column right-in-small" ng-bind="\'Label.BillingHistoryCost\' | translate"></th> <th class="text-label payment-column column-hide-medium" ng-bind="\'Label.BillingHistoryPaymentType\' | translate"></th> </tr> </thead> <tbody> <tr ng-repeat="r in payments"> <td class="column-hide-tiny"> <p class="date-text" ng-bind="r.paymentDate | datetime: {year: \'numeric\',month: \'2-digit\',day: \'2-digit\'}"> </p> </td> <td> <p class="column-show-tiny date-text" ng-bind="r.paymentDate | datetime: {year: \'numeric\',month: \'2-digit\',day: \'2-digit\'}"> </p> <p class="product-description" ng-bind="r.product | localNumberFormat"></p> </td> <td> <p class="cost-label" ng-bind="r.amount|currency:r.currencySymbol"></p> <span class="column-show-medium payment-info"> <span class="payment-method-image {{r.paymentProvider}} "></span> <span class="card-last-four-label inline-hide-tiny" ng-show="r.cardNumber !== \'\'" ng-bind="\'Label.BillingHistoryCardNumber\' | translate:{lastFourCard: r.cardNumber}"></span> <span class="card-last-four-label inline-show-tiny" ng-show="r.cardNumber !== \'\'" ng-bind="\' - \'+r.cardNumber"></span> </span> </td> <td class="column-hide-medium payment-info"> <span class="payment-method-image {{r.paymentProvider}}" alt="{{r.paymentProvider}}"></span> <span class="card-last-four-label" ng-show="r.cardNumber !== \'\'" ng-bind="\'Label.BillingHistoryCardNumber\' | translate:{lastFourCard: r.cardNumber}"></span> </td> </tr> </tbody> </table> </div> </div> </div> <div class="section" ng-show="isLoadMoreEnabled"> <button class="btn-control-md btn-full-width" ng-click="loadNextPage()" ng-bind="\'Action.BillingHistoryLoadMore\' | translate"></button> </div> </div>'},9804:function(e){e.exports='<div ng-controller="accountsController"> <system-feedback></system-feedback> <div class="section" ng-hide="accountData.stateProperties.isMyAccountSectionHeaderHidden"> <div class="container-header"> <h1 class="user-account-header">{{\'Heading.PageTitle\' | translate }}</h1> </div> <div class="container-header"> <div class="tab-dropdown" ng-hide="accountData.stateProperties.hideMobileTabList" ng-cloak> <div class="input-group-btn" uib-dropdown> <button type="button" uib-dropdown-toggle="" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label" ng-bind="currentData.stateLabel"></span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" role="menu" uib-dropdown-menu> <li ng-repeat="tab in accountsTabs" ui-sref="{{ tab.name }}"> <a ng-bind="tab.label"></a> </li> </ul> </div> </div> </div> </div> <div id="settings-container"> <div class="left-navigation"> <ul id="vertical-menu" class="menu-vertical submenus" role="tablist" ng-init="currentData.activeTab" ng-cloak> <li class="menu-option" ng-repeat="tab in accountsTabs" ng-class="{\'active\': currentData.activeTab == tab.name}" ui-sref="{{tab.name}}"> <a class="rbx-tab-heading"> <span class="font-caption-header">{{tab.label}}</span> </a> </li> </ul> </div> <div class="tab-content rbx-tab-content" ng-controller="accountsContentController"> <div account-pin-status></div> <div ui-view></div> </div> </div> </div>'},4720:function(e){"use strict";e.exports=CoreUtilities},957:function(e){"use strict";e.exports=HeaderScripts},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},a={};function l(e){if(a[e])return a[e].exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(n,{a:n}),n},l.d=function(e,n){for(var t in n)l.o(n,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var n,a,e=l(5734),t=l.n(e),o=l(726),i=l(4720);function s(){var e;e=document.getElementById("notification-settings"),n=e.getAttribute("data-can-toggle-mobile-push-notifications"),a=e.getAttribute("data-notifications-domain")}var e=(n=!1,a="",s(),{initialize:s,isPushEnabled:function(n){var e={url:"".concat(a,"/v2/push-notifications/get-current-device-destination"),withCredentials:!0};i.httpService.get(e).then(function(e){e=e.data;null!=e&&e.destination?n(!0):n(!1)},function(e){console.log(e)})},canToggleMobilePushNotifications:function(){return n},deregisterCurrentDevice:function(n,t){var e={url:"".concat(a,"/v2/push-notifications/deregister-current-device"),withCredentials:!0};i.httpService.post(e).then(function(e){e=e.data;"Success"===(null==e?void 0:e.statusMessage)&&n&&"function"==typeof n&&n(!0)},function(e){t&&"function"==typeof t&&t(e)})}}),r=l(4395);window.Roblox.NotificationSettingsAuthority=e,(0,o.importFilesUnderPath)(l(9731)),(0,o.importFilesUnderPath)(l(9073)),(0,o.importFilesUnderPath)(l(1765)),(0,o.importFilesUnderPath)(l(2625)),(0,o.importFilesUnderPath)(l(2583));var e=l(360),c=(0,o.templateCacheGenerator)(t(),"accountSettingsTemplates",e);t().element(function(){t().bootstrap("#user-account",[r.Z.name,c.name])})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/4b1da9c051247b99cf36-accountSettings.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("AccountSettings");